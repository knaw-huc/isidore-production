{"version":3,"sources":["assets/img/logo-innovatingknowledge.png","misc/config.tsx","page/header.tsx","page/footer.tsx","elements/manuscriptResultItem.tsx","components/manuscriptList.tsx","facets/searchFreeText.tsx","facets/geoNameFacet.tsx","facets/absolutePlaceFacet.tsx","facets/dateLabelFacet.tsx","facets/filtersFacet.tsx","elements/bookFacetItem.tsx","facets/bookFacet.tsx","facets/pageDimensions.tsx","facets/physicalStateFacet.tsx","facets/scriptFacet.tsx","facets/manuscriptType.tsx","facets/layoutFacet.tsx","facets/transmittedFacet.tsx","facets/provenanceFacet.tsx","facets/authorFacet.tsx","facets/currentPlaceFacet.tsx","facets/regionFacet.tsx","elements/map.tsx","facets/dummySliderfacet.tsx","assets/img/slider.png","components/search.tsx","components/manuscriptDetails.tsx","components/manuscript.tsx","renderMachine.tsx","serviceWorker.ts","machine/model.tsx","index.tsx"],"names":["SERVICE_SERVER","HOME","Header","window","location","href","className","onClick","goHome","src","logo","alt","React","Component","Footer","ManuscriptResultItem","props","certainty","item","thumb","image","phState","fols","style","design","returnValue","setStyle","designed_as","secondStyle","setSecondStyle","physical_state","id","shelfmark","scaled_dates","date","absolute_places","place_absolute","no_of_folia","height","width","formatDimension","page_height_min","page_width_min","material_type","books_latin","additional_content_scaled","ManuscriptList","result","manuscripts","map","SearchFreetext","useState","textField","setTextField","defaultValue","placeholder","onChange","e","currentTarget","value","add","facet","field","candidate","GeoNameFacet","data","setData","loading","setLoading","url","Base64","toBase64","JSON","stringify","search","help","a","fetch","response","json","useEffect","fetchData","refresh","buckets","index","key","doc_count","AbsolutePlaceFacet","more","setMore","filter","setFilter","type","name","DatelabelFacet","FiltersFacet","annotations","digitized","excluded","part","BookFacetItem","selected","setSelected","rangeSelected","setRangeSelected","from","to","chapters","bookLatin","min","max","size","stringValue","input","isNaN","Number","bookFacet","book","PageDimensionsFacet","PhysicalStateFacet","ScriptFacet","ManuscriptTypeFacet","LayoutFacet","TransmittedFacet","ProvenanceFacet","parentCallback","AuthorFacet","CurrentPlaceFacet","RegionFacet","IsiMap","org","isModernPlace","setModernPlace","lib","MapContainer","center","zoom","TileLayer","attribution","library","latitude","position","longitude","Marker","Popup","place_name","DummySliderFacet","Search","searchBuffer","facetstate","geo","dateLabel","dimensions","filters","physicalState","script","manuscript","layout","transmitted","provenance","authors","currentplace","region","searchvalues","page","page_length","sortorder","search_string","parse","fromBase64","Error","scroll","searchFT","setSearchFT","geoFacet","setGeoFacet","dateLabelFacet","setDatelabelFacet","setBookFacet","dimFacet","setDimFacet","filterFacet","setFilterFacet","physicalStateFacet","setPhysicalStatefacet","scriptFacet","setScriptFacet","manuscriptFacet","setManuscriptFacet","layoutFacet","setLayoutFacet","transmittedFacet","setTransmittedFacet","provenanceFacet","setProvenanceFacet","authorFacet","setAuthorFacet","currentPlaceFacet","setCurrentPlaceFacet","regionFacet","setRegionFacet","setRefresh","searchData","setSearchData","facets","amount","pages","setResult","sendCandidate","values","found","forEach","includes","push","goToPage","sd","parseInt","setPageLength","target","ref","document","createElement","click","openWindow","skipper","i","element","el","length","removeFacet","ManuscriptDetails","layout_items","content","img","additional_content","larger_unit","related_manuscripts","bibliography","digitized_at","folText","source_of_date","source_dating","pgType","page_number","indexOf","history","back","steinova","anspach","bischoff","cla","bischoff_cla_date","physical_state_scaled","books_included","details","locations","line","reason","intern","item_in","extern","index_ex","diagrams","innovations","additional_observations","url_other","Manuscript","manuscriptID","console","log","isFunctionComponent","val","getFirstReactComponent","pickReactComponents","state","config","configVal","undefined","error","singleResult","count","subResult","merger","Boolean","hostname","match","interpreter","screens","IsiMachine","Machine","initial","context","manuscript_id","on","detail","actions","assign","event","states","fourOhFour","interpret","gotoUrl","hash","substr","send","start","onhashchange","ReactDOM","render","curState","setState","cb","onTransition","off","view","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.9bf72e65.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo-innovatingknowledge.c95fe7bf.png\";","// Development\n//export const SERVICE_SERVER = \"http://www.huc.localhost/isidore_service/\";\n//export const HOME = \"http://localhost:3000/\";\n\n// Production\nexport const SERVICE_SERVER = \"https://isidore.sd.di.huc.knaw.nl/isidore_service/\";\nexport const HOME = \"https://isidore.sd.di.huc.knaw.nl/\";\n","import React from \"react\";\nimport logo from \"../assets/img/logo-innovatingknowledge.png\";\nimport {HOME} from \"../misc/config\";\n\n\nexport default class Header extends React.Component {\n\n    goHome() {\n        window.location.href = HOME;\n    }\n\n    render() {\n        return (\n            <div className=\"hcContentContainer bgColorBrand1 hcMarginBottom5\">\n                <header className=\"hcPageHeaderSimple hcBasicSideMargin\">\n                    <div className=\"hcBrand\">\n                        <div className=\"hcBrandLogo\" onClick={() => {this.goHome()}}>\n                            <img src={logo} className=\"logo\" alt=\"Logo Soundtolls\"/>\n                        </div>\n\n                    </div>\n                </header>\n            </div>\n        )\n    }\n}","import React from \"react\";\n\nexport default class Footer extends React.Component {\n    render()  {\n        return (\n\n            <div className=\"hcContentContainer bgColorBrand1\">\n                <div className=\"hcMarginTop5 hcMarginBottom1\">\n                    <div className=\"hcBasicSideMargin\">\n\n                    </div>\n                </div>\n            </div>\n        )\n}\n}","import React from \"react\";\nimport {IResultManuscript} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\n\nexport default function ManuscriptResultItem(props: { item: IResultManuscript }) {\n    const width: number = 75;\n    let certainty: string = \"\";\n    if (props.item.certainty === 'no') {\n        certainty = \" (?)\";\n    }\n    const thumb:string = SERVICE_SERVER + \"img/thumbs/\" + props.item.image;\n\n    function setStyle(design: string): string\n    {\n        let returnValue: string = \"\";\n        switch (design)\n        {\n            case \"non-canonical Etymologiae\":\n                returnValue = \"hcNonCanDesign\";\n                break;\n            case \"excerpts\":\n                returnValue = \"hcExcDesign\";\n                break;\n            case \"canonical Etymologiae\":\n                returnValue = \"hcCanDesign\";\n                break;\n            case \"unknown\":\n                returnValue = \"hcUnknownDesign\";\n                break;\n            default:\n                returnValue = \"hcUnknownDesign\";\n                break;\n        }\n        return returnValue;\n    }\n\n    function setSecondStyle(design: string): string\n    {\n        let returnValue: string = \"\";\n        switch (design)\n        {\n            case \"destroyed\":\n                returnValue = \"psDestroyed\";\n                break;\n            case \"incomplete\":\n                returnValue = \"psIncomplete\";\n                break;\n            case \"marginalia\":\n                returnValue = \"psMarginalia\";\n                break;\n            case \"1 volume, destroyed\":\n                returnValue = \"psOneVolume\";\n                break;\n            case \"2 volumes\":\n                returnValue = \"psTwoVolumes\";\n                break;\n            case \"first volume\":\n                returnValue = \"psFirstVolume\";\n                break;\n            case \"addition in a blank space on a page\":\n                returnValue = \"psAddition\";\n                break;\n            case \"1 volume\":\n                returnValue = \"psOneVolume\";\n                break;\n            case \"second volume\":\n                returnValue = \"psSecondVolume\";\n                break;\n            case \"fragment, palimpsest\":\n                returnValue = \"psFragment\";\n                break;\n            case \"fragment\":\n                returnValue = \"psFragment\";\n                break;\n            case \"2 volumes, cropped\":\n                returnValue = \"psTwoVolumes\";\n                break;\n            case \"1 volume, cropped\":\n                returnValue = \"psOneVolume\";\n                break;\n            case \"second volume, destroyed\":\n                returnValue = \"psSecondVolume\";\n                break;\n            case \"unknown\":\n                returnValue = \"psUnknownDesign\";\n                break;\n            default:\n                returnValue = \"psUnknownDesign\";\n                break;\n        }\n        return returnValue;\n    }\n\n    function formatPhysicalState(phState: string) {\n        if (phState == \"addition in a blank space on a page\") {\n            return \"addition\";\n        } else {\n            return phState;\n        }\n    }\n\n    function formatFolia(fols: string) {\n        if (fols == null || fols === \"\") {\n            return \"\"\n        } else {\n            if (fols === \"1\") {\n                return fols + \" fol.\";\n            } else {\n                return fols + \" fols., \";\n            }\n        }\n    }\n\n    function formatDimension(height: string, width: string) {\n        if (height == null || height === \"\" || width == null || width === \"\") {\n            return \"\";\n        } else {\n            return height + \" x \" + width + \" mm\";\n        }\n    }\n\n    const style: string = setStyle(props.item.designed_as);\n    const secondStyle: string = setSecondStyle(props.item.physical_state);\n\n\n    return (\n        <div className=\"resItem\">\n            <div className=\"resultCell\">\n                <div className=\"thumb\"><img src={thumb} alt=\"Test\"/></div>\n                <div className=\"resultData\">\n                    <div className=\"resultShelfmark\" onClick={() => {\n                        //console.log(window.pageYOffset);\n                        window.location.href = \"#detail/\" + props.item.id; }}>\n                        {props.item.shelfmark}\n                    </div>\n                    <div className=\"resultDateLocation\">{props.item.scaled_dates[0].date}, {props.item.absolute_places[0].place_absolute}{certainty}</div>\n                    <div className=\"resultDateLocation\">{formatFolia(props.item.no_of_folia)} {formatDimension(props.item.page_height_min,props.item.page_width_min)}</div>\n                    <div className=\"resultDescription\">{props.item.material_type},  includes <i>Etym.</i> {props.item.books_latin}</div>\n                    <div className=\"resultDateLocation\">{props.item.additional_content_scaled}</div>\n                </div>\n                <div className={style}>{props.item.designed_as}</div>\n                <div className={secondStyle}>{formatPhysicalState(props.item.physical_state)}</div>\n            </div>\n        </div>\n    )\n}","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {IResultManuscript, IResultManuscriptList, ISearchObject} from \"../misc/interfaces\";\nimport ManuscriptResultItem from \"../elements/manuscriptResultItem\";\n\n\nexport default function ManuscriptList(props: {result: IResultManuscriptList}) {\n\n    return (\n        <div>{\n            props.result.manuscripts.map((item: IResultManuscript) => {\n              return  (<ManuscriptResultItem item={item}/>)})}</div>\n    )\n}","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {ISendCandidate, ISearchObject} from \"../misc/interfaces\";\n\n\nfunction SearchFreetext(props: {add: ISendCandidate}) {\n    const [textField, setTextField] = useState<string>(\"\");\n\n    function handleChange(e: React.FormEvent<HTMLInputElement>): void {\n        setTextField(e.currentTarget.value);\n    }\n\n    function setTextFacet() {\n        if (textField !== \"\") {\n            props.add({facet: \"Free text\", field: \"FREE_TEXT\", candidate: textField});\n        }\n    }\n\n\n    return (\n        <div className=\"hcFacet\">\n            <div className=\"hcFacetTitle\">\n                Free text search\n            </div>\n            <div className=\"hcFacetItems\">\n                <input className=\"hcFacetSearch\" defaultValue={textField} placeholder=\"Type text to search\" onChange={handleChange}/>\n            </div>\n            <button className=\"ftSearchBtn\" onClick={setTextFacet}>Search</button>\n        </div>\n    );\n\n}\n\nexport default SearchFreetext;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISearchObject, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\n\nfunction GeoNameFacet(props: { add: ISendCandidate, search: ISearchObject, refresh: boolean }) {\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/nested_facet/absolute_places.country/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/normal\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [props.refresh]);\n\n\n    return (\n        <div className=\"hcFacet\">\n            <div className=\"hcFacetTitle\">\n                Modern place\n            </div>\n            {help &&\n            <div className=\"hcFacetHelp\">\n                <strong>Free text facet</strong><br/>\n                Type text and complete with ENTER.\n            </div>}\n            <div className=\"hcFacetItems\">\n                {!loading ? (<div>\n                    {data.buckets.map((item, index) => {\n                        return (<div key={index} className=\"hcFacetItem\" onClick={() => props.add({\n                            facet: \"Modern place\",\n                            field: \"absolute_places.country\",\n                            candidate: item.key\n                        })}>\n                            <div className=\"checkBoxLabel\"> {item.key}\n                                <div className=\"facetAmount\"> ({item.doc_count})</div>\n                            </div>\n                        </div>);\n                    })}\n                </div>) : (<div>Loading...</div>)}\n                <div>\n                </div>\n            </div>\n        </div>\n    );\n\n}\n\nexport default GeoNameFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISearchObject, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\nfunction AbsolutePlaceFacet(props: { add: ISendCandidate, search: ISearchObject, refresh: boolean }) {\n    let [more, setMore] = useState(true);\n    const [filter, setFilter] = useState(\"\");\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/nested_facet/absolute_places.place_absolute/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        if (more) {\n            url = SERVICE_SERVER + \"elastic/nested_facet/absolute_places.place_absolute/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short/\" + filter;\n        } else {\n            url = SERVICE_SERVER + \"elastic/nested_facet/absolute_places.place_absolute/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/long/\" + filter;\n        }\n\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n\n    function changeListLength() {\n        if (more) {\n            if (filter === \"\") {\n                url = SERVICE_SERVER + \"elastic/nested_facet/absolute_places.place_absolute/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short\";\n            } else {\n                url = SERVICE_SERVER + \"elastic/nested_facet/absolute_places.place_absolute/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short/\" + filter;\n            }\n            setMore(false);\n        } else {\n            if (filter === \"\") {\n                url = SERVICE_SERVER + \"elastic/initial_facet/absolute_places.place_absolute/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/long\";\n            } else {\n                url = SERVICE_SERVER + \"elastic/facet/absolute_places.place_absolute/long/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/\" + filter;\n            }\n            setMore(true);\n        }\n    }\n\n\n    function handleChange(e: React.FormEvent<HTMLInputElement>) {\n        setFilter(e.currentTarget.value);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [filter, more, props.refresh]);\n\n\n    return (\n        <div className=\"hcFacet\">\n            <div className=\"hcFacetTitle\">\n                Absolute place\n            </div>\n            {help &&\n            <div className=\"hcFacetHelp\">\n                <strong>Absolute place facet</strong><br/>\n                Type text and complete with ENTER.\n            </div>}\n            <div className=\"hcFacetFilter\"><input type=\"text\" name=\"\" onChange={handleChange}\n                                                  placeholder=\"Type to filter\"/></div>\n            {!loading ? (<div className=\"hcFacetItems\">\n                    {data.buckets.map((item) => {\n                        return (\n                            <div className=\"hcFacetItem\" onClick={() => props.add({\n                                facet: \"Absolute place\",\n                                field: \"absolute_places.place_absolute\",\n                                candidate: item.key\n                            })}>\n                                <div className=\"checkBoxItem\"> {item.key}\n                                    <div className=\"facetAmount\"> ({item.doc_count})</div>\n                                </div>\n                            </div>\n                        )\n                    })}\n                    <div className=\"hcClickable\" onClick={changeListLength}>\n                        {more ? (<div>More...</div>) : (<div>Less...</div>)}\n                    </div>\n                </div>) :\n                (<div className=\"hcFacetLoading\">Loading...</div>)}\n        </div>\n    );\n\n}\n\nexport default AbsolutePlaceFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISendCandidate, ISearchObject} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\n\nfunction DatelabelFacet(props: { add: ISendCandidate, search: ISearchObject, refresh: boolean }) {\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/nested_facet/scaled_dates.date/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/normal\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [props.refresh]);\n\n\n    return (\n        <div className=\"hcFacet\">\n            <div className=\"hcFacetTitle\">\n                Date scaled\n            </div>\n            {help &&\n            <div className=\"hcFacetHelp\">\n                <strong>Scaled date facet</strong><br/>\n            </div>}\n            <div className=\"hcFacetItems\">\n                {!loading ? (<div>\n                    {data.buckets.map((item, index) => {\n                        return (<div key={index} className=\"hcFacetItem\" onClick={() => props.add({\n                            facet: \"Date scaled\",\n                            field: \"scaled_dates.date\",\n                            candidate: item.key\n                        })}>\n                            <div className=\"checkBoxLabel\"> {item.key}\n                                <div className=\"facetAmount\"> ({item.doc_count})</div>\n                            </div>\n                        </div>);\n                    })}\n                </div>) : (<div>Loading...</div>)}\n                <div>\n                </div>\n            </div>\n\n        </div>\n    );\n\n}\n\nexport default DatelabelFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {filterNumbers, ISearchObject, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\n\nfunction FiltersFacet(props: { add: ISendCandidate, search: ISearchObject, refresh: boolean }) {\n    const [data, setData] = useState<filterNumbers>({annotations: 0, digitized: 0, excluded: 0, part: 0});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/filter_facets/\" + Base64.toBase64(JSON.stringify(props.search));\n\n    async function fetchData() {\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [props.refresh]);\n\n    return (\n        <div className=\"hcFacet\">\n            {loading ? (<div>Loading...</div>) : (<div className=\"hcFacetItems\">\n                <div className=\"hcFacetItem\" onClick={() => props.add({\n                    facet: \"Annotations\",\n                    field: \"annotations\",\n                    candidate: \"yes\"\n                })}>Annotations&nbsp;\n                    <div className=\"facetAmount\"> ({data.annotations})</div>\n                </div>\n                <div className=\"hcFacetItem\" onClick={() => props.add({\n                    facet: \"Digitized\",\n                    field: \"digitized\",\n                    candidate: \"yes\"\n                })}>Digitized&nbsp;\n                    <div className=\"facetAmount\"> ({data.digitized})</div>\n                </div>\n                <div className=\"hcFacetItem\" onClick={() => props.add({\n                    facet: \"Part larger collection\",\n                    field: \"part\",\n                    candidate: \"yes\"\n                })}>Part larger collection\n                    <div className=\"facetAmount\">({data.excluded})</div>\n                </div>\n                <div className=\"hcFacetItem\" onClick={() => props.add({\n                    facet: \"Exclude full Etymologiae\",\n                    field: \"excluded\",\n                    candidate: \"yes\"\n                })}>Exclude full <div className=\"facetAmount\">&nbsp; ({data.part})</div>\n                </div>\n\n            </div>)}\n        </div>\n    );\n\n}\n\nexport default FiltersFacet;","import React from \"react\";\nimport {useState} from \"react\";\nimport NumericInput from \"react-numeric-input\";\nimport {ISendCandidate} from \"../misc/interfaces\";\n\nfunction BookFacetItem(props: { add: ISendCandidate, book: number, bookLatin: string, chapters: number }) {\n    const [selected, setSelected] = useState(false);\n    const [rangeSelected, setRangeSelected] = useState(false);\n    let from = 1;\n    let to = props.chapters;\n\n    function handleChange() {\n        setSelected(!selected);\n    }\n\n    function handleRange() {\n        setRangeSelected(false);\n    }\n\n    function handleFrom(value: number | null, stringValue: string, input: HTMLInputElement) {\n        if (!isNaN(Number(stringValue))) {\n            from = Number(stringValue);\n            setRangeSelected(false);\n        } else {\n            setRangeSelected(true);\n        }\n    }\n\n    function handleTo(value: number | null, stringValue: string, input: HTMLInputElement) {\n        if (!isNaN(Number(stringValue))) {\n            to = Number(stringValue);\n            setRangeSelected(false);\n        } else {\n            setRangeSelected(true);\n        }\n    }\n\n    function saveFacet() {\n        props.add({\n            facet: \"Books\",\n            field: \"BOOK\",\n            candidate: props.bookLatin + \":\" + from as string + \"-\" + to as string\n        });\n        setRangeSelected(true);\n    }\n\n    return (\n        <div>\n            <form>\n                <div className=\"hcClickable\" onClick={() => handleChange()}><strong>book {props.bookLatin}</strong>\n                </div>\n                {selected ?\n                    (<div className=\"chapterRange\"><NumericInput className=\"numSelector\" min={1} max={props.chapters}\n                                                                 value={1} size={3}\n                                                                 onChange={handleFrom}/> - <NumericInput\n                        className=\"numSelector\" min={1} max={props.chapters} value={props.chapters} size={3}\n                        onChange={handleTo}/>\n                        {!rangeSelected ? (\n                            <button className=\"rangeSelectorBtn\" onClick={() => saveFacet()}>OK</button>) : (<div/>)}\n                    </div>) : (\n\n                        <div/>\n                    )}\n            </form>\n        </div>\n    );\n}\n\nexport default BookFacetItem;","import React from \"react\";\nimport BookFacetItem from \"../elements/bookFacetItem\";\nimport {ISendCandidate} from \"../misc/interfaces\";\n\nfunction bookFacet(props: {add: ISendCandidate}) {\n\n    return (\n        <div className=\"hcFacet\">\n            <div className=\"hcFacetItems\">\n                <BookFacetItem add={props.add} book = {1}  bookLatin = \"I\" chapters= {44} />\n                <BookFacetItem add={props.add} book = {2}  bookLatin = \"II\" chapters= {31} />\n                <BookFacetItem add={props.add} book = {3}  bookLatin = \"III\" chapters= {71} />\n                <BookFacetItem add={props.add} book = {4}  bookLatin = \"IV\" chapters= {13} />\n                <BookFacetItem add={props.add} book = {5}  bookLatin = \"V\" chapters= {39} />\n                <BookFacetItem add={props.add} book = {6}  bookLatin = \"VI\" chapters= {19} />\n                <BookFacetItem add={props.add} book = {7}  bookLatin = \"VII\" chapters= {14} />\n                <BookFacetItem add={props.add} book = {8}  bookLatin = \"VIII\" chapters= {11} />\n                <BookFacetItem add={props.add} book = {9}  bookLatin = \"IX\" chapters= {7} />\n                <BookFacetItem add={props.add} book = {10}  bookLatin = \"X\" chapters= {282} />\n                <BookFacetItem add={props.add} book = {11}  bookLatin = \"XI\" chapters= {4} />\n                <BookFacetItem add={props.add} book = {12}  bookLatin = \"XII\" chapters= {8} />\n                <BookFacetItem add={props.add} book = {13}  bookLatin = \"XIII\" chapters= {22} />\n                <BookFacetItem add={props.add} book = {14}  bookLatin = \"XIV\" chapters= {9} />\n                <BookFacetItem add={props.add} book = {15}  bookLatin = \"XV\" chapters= {16} />\n                <BookFacetItem add={props.add} book = {16}  bookLatin = \"XVI\" chapters= {27} />\n                <BookFacetItem add={props.add} book = {17}  bookLatin = \"XVII\" chapters= {11} />\n                <BookFacetItem add={props.add} book = {18}  bookLatin = \"XVIII\" chapters= {69} />\n                <BookFacetItem add={props.add} book = {19}  bookLatin = \"XIX\" chapters= {34} />\n                <BookFacetItem add={props.add} book = {20}  bookLatin = \"XX\" chapters= {16} />\n                <div className=\"hcClickable\" onClick={() => props.add({facet: \"Books\", field: \"books_latin\", candidate: \"Unknown\"})}>\n                    <div className=\"checkBoxItem\"> <strong>Unknown</strong></div>\n                </div>\n            </div>\n        </div>\n    );\n\n}\n\nexport default bookFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISearchObject, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\nfunction PageDimensionsFacet(props: {add: ISendCandidate, search: ISearchObject, refresh: boolean}) {\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/initial_facet/page_dimensions/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/normal\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [props.refresh]);\n\n\n    return (\n        <div className=\"hcFacet\">\n            { help &&\n            <div className=\"hcFacetHelp\">\n                <strong>Page dimensions facet</strong><br/>\n                Select one or more ranges.\n            </div> }\n            <div className=\"hcFacetItems\">\n                {!loading ? (<div>\n                    {data.buckets.map((item, index) => {\n                        return (<div key={index} className=\"hcFacetItem\" onClick={() => props.add({facet: \"Page dimensions\", field: \"page_dimensions\", candidate: item.key})}><div className=\"checkBoxLabel\"> {item.key} <div className=\"facetAmount\"> ({item.doc_count})</div></div></div>);\n                    })}\n                </div>) : (<div>Loading...</div>)}\n                <div>\n                </div>\n            </div>\n            {/*<div className=\"hcClickable\" >\n                { true ? (<div>More...</div>) : (<div>Less...</div>)}\n            </div>*/}\n        </div>\n    );\n\n}\n\nexport default PageDimensionsFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISearchObject, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\nfunction PhysicalStateFacet(props: {add: ISendCandidate, search: ISearchObject, refresh: boolean}) {\n\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/initial_facet/physical_state/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/normal\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [props.refresh]);\n\n    return (\n        <div className=\"hcFacet\">\n            {help &&\n            <div className=\"hcFacetHelp\">\n                <strong>Physical state</strong><br/>\n                Select one or more states.\n            </div>}\n            <div className=\"hcFacetItems\">\n                {!loading ? (<div>\n                    {data.buckets.map((item, index) => {\n                        return (<div key={index} className=\"hcFacetItem\" onClick={() => props.add({facet: \"Physical state\", field: \"physical_state\", candidate: item.key})}><div className=\"checkBoxLabel\"> {item.key} <div className=\"facetAmount\">({item.doc_count})</div></div></div>);\n                    })}\n                </div>) : (<div>Loading...</div>)}\n                <div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default PhysicalStateFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISearchObject, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\nfunction ScriptFacet(props: {add: ISendCandidate, search: ISearchObject, refresh: boolean}) {\n\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/initial_facet/script/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/normal\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [props.refresh]);\n\n    return (\n        <div className=\"hcFacet\">\n            {help &&\n            <div className=\"hcFacetHelp\">\n                <strong>Script</strong><br/>\n                Select one or more states.\n            </div>}\n            <div className=\"hcFacetItems\">\n                {!loading ? (<div>\n                    {data.buckets.map((item, index) => {\n                        return (<div key={index} className=\"hcFacetItem\"  onClick={() => props.add({facet: \"Script\", field: \"script\", candidate: item.key})}><div className=\"checkBoxLabel\"> {item.key} <div className=\"facetAmount\">({item.doc_count})</div></div></div>);\n                    })}\n                </div>) : (<div>Loading...</div>)}\n                <div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default ScriptFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISearchObject, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\nfunction ManuscriptTypeFacet(props: {add: ISendCandidate, search: ISearchObject, refresh: boolean}) {\n\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/initial_facet/content_type/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/normal\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [props.refresh]);\n\n    return (\n        <div className=\"hcFacet\">\n            {help &&\n            <div className=\"hcFacetHelp\">\n                <strong>Script</strong><br/>\n                Select one or more states.\n            </div>}\n            <div className=\"hcFacetItems\">\n                {!loading ? (<div>\n                    {data.buckets.map((item, index) => {\n                        return (<div key={index} className=\"hcFacetItem\" onClick={() => props.add({facet: \"Manuscript type\", field: \"content_type\", candidate: item.key})}><div className=\"checkBoxLabel\"> {item.key} <div className=\"facetAmount\">({item.doc_count})</div></div></div>);\n                    })}\n                </div>) : (<div>Loading...</div>)}\n                <div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default ManuscriptTypeFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISearchObject, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\nfunction LayoutFacet(props: {add: ISendCandidate, search: ISearchObject, refresh: boolean }) {\n\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/initial_facet/layout/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/normal\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [props.refresh]);\n\n    return (\n        <div className=\"hcFacet\">\n            {help &&\n            <div className=\"hcFacetHelp\">\n                <strong>Script</strong><br/>\n                Select one or more states.\n            </div>}\n            <div className=\"hcFacetItems\">\n                {!loading ? (<div>\n                    {data.buckets.map((item, index) => {\n                        return (<div key={index} className=\"hcFacetItem\" onClick={() => props.add({facet: \"Layout\", field: \"layout\", candidate: item.key})}><div className=\"checkBoxLabel\"> {item.key} <div className=\"facetAmount\">({item.doc_count})</div></div></div>);\n                    })}\n                </div>) : (<div>Loading...</div>)}\n                <div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default LayoutFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISearchObject, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\nfunction TransmittedFacet(props: {add: ISendCandidate, search: ISearchObject, refresh: boolean}) {\n\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/nested_facet/material_types.material_type/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/normal\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [props.refresh]);\n\n    return (\n        <div className=\"hcFacet\">\n            {help &&\n            <div className=\"hcFacetHelp\">\n                <strong>Script</strong><br/>\n                Select one or more states.\n            </div>}\n            <div className=\"hcFacetItems\">\n                {!loading ? (<div>\n                    {data.buckets.map((item, index) => {\n                        return (<div key={index} className=\"hcFacetItem\" onClick={() => props.add({facet: \"Etymology transmitted as\", field: \"material_types.material_type\", candidate: item.key})}><div className=\"checkBoxLabel\"> {item.key} <div className=\"facetAmount\">({item.doc_count})</div></div></div>);\n                    })}\n                </div>) : (<div>Loading...</div>)}\n                <div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default TransmittedFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISearchObject, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\nfunction ProvenanceFacet(props: { parentCallback: ISendCandidate, search: ISearchObject, refresh: boolean }) {\n\n    let [more, setMore] = useState(true);\n    const [filter, setFilter] = useState(\"\");\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/nested_facet/provenances.provenance/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        if (more) {\n            url = SERVICE_SERVER + \"elastic/nested_facet/provenances.provenance/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short/\" + filter;\n        } else {\n            url = SERVICE_SERVER + \"elastic/nested_facet/provenances.provenance/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/long/\" + filter;\n        }\n\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n\n    function changeListLength() {\n        if (more) {\n            if (filter === \"\") {\n                url = SERVICE_SERVER + \"elastic/nested_facet/provenances.provenance/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short\";\n            } else {\n                url = SERVICE_SERVER + \"elastic/nested_facet/provenances.provenance/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short/\" + filter;\n            }\n            setMore(false);\n        } else {\n            if (filter === \"\") {\n                url = SERVICE_SERVER + \"elastic/nested_facet/provenances.provenance/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/long\";\n            } else {\n                url = SERVICE_SERVER + \"elastic/nested_facet/provenances.provenance/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/long/\" + filter;\n            }\n            setMore(true);\n        }\n    }\n\n\n    function handleChange(e: React.FormEvent<HTMLInputElement>) {\n        setFilter(e.currentTarget.value);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [filter, more, props.refresh]);\n\n    return (\n        <div className=\"hcFacet\">\n            <div className=\"hcFacetTitle\">\n\n            </div>\n            <div>\n                {help ? (<div className=\"hcFacetHelp\">\n                    <strong>Provenance facet </strong><br/>\n                </div>) : (<div/>)}\n\n            </div>\n            <div className=\"hcFacetFilter\"><input type=\"text\" name=\"\" onChange={handleChange} id=\"shipMasterFilter\"\n                                                  placeholder=\"Type to filter\"/></div>\n            {!loading ? (<div className=\"hcFacetItems\">\n                    {data.buckets.map((item) => {\n                        return (\n                            <div className=\"hcFacetItem\" onClick={() => props.parentCallback({\n                                facet: \"Provenance\",\n                                field: \"provenances.provenance\",\n                                candidate: item.key\n                            })}>\n                                <div className=\"checkBoxItem\"> {item.key}\n                                    <div className=\"facetAmount\">({item.doc_count})</div>\n                                </div>\n                            </div>\n                        )\n                    })}\n\n\n                    <div className=\"hcClickable\" onClick={changeListLength}>\n                        {more ? (<div>More...</div>) : (<div>Less...</div>)}\n                    </div>\n                </div>) :\n                (<div className=\"hcFacetLoading\">Loading...</div>)}\n        </div>\n    );\n}\n\nexport default ProvenanceFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISearchObject} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {ISendCandidate} from \"../misc/interfaces\";\nimport {Base64} from \"js-base64\";\n\nfunction AuthorFacet(props: { parentCallback: ISendCandidate, search: ISearchObject, refresh: boolean  }) {\n\n    let [more, setMore] = useState(true);\n    const [filter, setFilter] = useState(\"\");\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/nested_facet/authors.author/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        if (more) {\n            url = SERVICE_SERVER + \"elastic/nested_facet/authors.author/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short/\" + filter;\n        } else {\n            url = SERVICE_SERVER + \"elastic/nested_facet/authors.author/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/long/\" + filter;\n        }\n\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n\n    function changeListLength() {\n        if (more) {\n            if (filter === \"\") {\n                url = SERVICE_SERVER + \"elastic/nested_facet/authors.author/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short\";\n            } else {\n                url = SERVICE_SERVER + \"elastic/nested_facet/authors.author/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short/\" + filter;\n            }\n            setMore(false);\n        } else {\n            if (filter === \"\") {\n                url = SERVICE_SERVER + \"elastic/initial_facet/authors.author/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/long\";\n            } else {\n                url = SERVICE_SERVER + \"elastic/facet/authors.author/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/long/\" + filter;\n            }\n            setMore(true);\n        }\n    }\n\n\n    function handleChange(e: React.FormEvent<HTMLInputElement>) {\n        setFilter(e.currentTarget.value);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [filter, more, props.refresh]);\n\n    return (\n        <div className=\"hcFacet\">\n            <div className=\"hcFacetTitle\">\n\n            </div>\n            <div>\n                {help ? (<div className=\"hcFacetHelp\">\n                    <strong>The full name facet </strong><br/>\n                    The names of the shipmasters are ordered by their number of passages. Filtering this facet is based\n                    on <u>family name</u>.\n                </div>) : (<div/>)}\n\n            </div>\n            <div className=\"hcFacetFilter\"><input type=\"text\" name=\"\" onChange={handleChange} id=\"shipMasterFilter\"\n                                                  placeholder=\"Type to filter\"/></div>\n            {!loading ? (<div className=\"hcFacetItems\">\n                    {data.buckets.map((item) => {\n                        return (\n                            <div className=\"hcFacetItem\" onClick={() => props.parentCallback({\n                                facet: \"Authors\",\n                                field: \"authors.author\",\n                                candidate: item.key\n                            })}>\n                                <div className=\"checkBoxItem\"> {item.key}\n                                    <div className=\"facetAmount\">({item.doc_count})</div>\n                                </div>\n                            </div>\n                        )\n                    })}\n\n\n                    <div className=\"hcClickable\" onClick={changeListLength}>\n                        {more ? (<div>More...</div>) : (<div>Less...</div>)}\n                    </div>\n                </div>) :\n                (<div className=\"hcFacetLoading\">Loading...</div>)}\n        </div>\n    );\n}\n\nexport default AuthorFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISearchObject, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\n\nfunction CurrentPlaceFacet(props: { add: ISendCandidate, search: ISearchObject, refresh: boolean }) {\n    let [more, setMore] = useState(true);\n    const [filter, setFilter] = useState(\"\");\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/nested_facet/current_places.place/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        if (more) {\n            url = SERVICE_SERVER + \"elastic/nested_facet/current_places.place/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short/\" + filter;\n        } else {\n            url = SERVICE_SERVER + \"elastic/nested_facet/current_places.place/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/long/\" + filter;\n        }\n\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n\n    function changeListLength() {\n        if (more) {\n            if (filter === \"\") {\n                url = SERVICE_SERVER + \"elastic/nested_facet/current_places.place/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short\";\n            } else {\n                url = SERVICE_SERVER + \"elastic/nested_facet/autcurrent_placeshors.place/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short/\" + filter;\n            }\n            setMore(false);\n        } else {\n            if (filter === \"\") {\n                url = SERVICE_SERVER + \"elastic/initial_facet/current_places.place/long\";\n            } else {\n                url = SERVICE_SERVER + \"elastic/facet/current_places.place/long/\" + filter;\n            }\n            setMore(true);\n        }\n    }\n\n\n    function handleChange(e: React.FormEvent<HTMLInputElement>) {\n        setFilter(e.currentTarget.value);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [filter, more, props.refresh]);\n\n\n    return (\n        <div className=\"hcFacet\">\n            <div className=\"hcFacetTitle\">\n\n            </div>\n            <div>\n                {help ? (<div className=\"hcFacetHelp\">\n                    <strong>The full name facet </strong><br/>\n                    The names of the shipmasters are ordered by their number of passages. Filtering this facet is based\n                    on <u>family name</u>.\n                </div>) : (<div/>)}\n\n            </div>\n            <div className=\"hcFacetFilter\"><input type=\"text\" name=\"\" onChange={handleChange} id=\"shipMasterFilter\"\n                                                  placeholder=\"Type to filter\"/></div>\n            {!loading ? (<div className=\"hcFacetItems\">\n                    {data.buckets.map((item) => {\n                        return (\n                            <div className=\"hcFacetItem\" onClick={() => props.add({\n                                facet: \"Current places\",\n                                field: \"current_places.place\",\n                                candidate: item.key\n                            })}>\n                                <div className=\"checkBoxItem\"> {item.key}\n                                    <div className=\"facetAmount\">({item.doc_count})</div>\n                                </div>\n                            </div>\n                        )\n                    })}\n\n\n                    <div className=\"hcClickable\" onClick={changeListLength}>\n                        {more ? (<div>More...</div>) : (<div>Less...</div>)}\n                    </div>\n                </div>) :\n                (<div className=\"hcFacetLoading\">Loading...</div>)}\n        </div>\n    );\n\n}\n\nexport default CurrentPlaceFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, IRemoveFacet, ISearchObject, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\nfunction RegionFacet(props: {add: ISendCandidate, search: ISearchObject, refresh: boolean }) {\n\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/nested_facet/scaled_places.place/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/normal\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n\n    useEffect(() => {\n        fetchData();\n    }, [props.refresh]);\n\n    return (\n        <div className=\"hcFacet\">\n            {help &&\n            <div className=\"hcFacetHelp\">\n                <strong>Script</strong><br/>\n                Select one or more states.\n            </div>}\n            <div className=\"hcFacetItems\">\n                {!loading ? (<div>\n                    {data.buckets.map((item, index) => {\n                        return (<div key={index} className=\"hcFacetItem\" onClick={() => props.add({facet: \"Region of origin\", field: \"scaled_places.place\", candidate: item.key})}><div className=\"checkBoxLabel\"> {item.key} <div className=\"facetAmount\">({item.doc_count})</div></div></div>);\n                    })}\n                </div>) : (<div>Loading...</div>)}\n                <div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default RegionFacet;","import React from \"react\";\nimport {MapContainer, Marker, Popup, TileLayer} from \"react-leaflet\";\nimport MarkerClusterGroup from 'react-leaflet-markercluster';\nimport {LatLngTuple} from \"leaflet\";\nimport {IResultManuscript, IResultManuscriptList} from \"../misc/interfaces\";\nimport {useState, useEffect} from \"react\";\n\nfunction IsiMap(props: { result: IResultManuscriptList }) {\n    const [isModernPlace, setModernPlace] = useState(false);\n\n    let org, lib = '';\n    if (isModernPlace) {\n        lib = \"activeSwitchBtn\";\n        org = \"switchBtn\";\n    } else {\n        lib = \"switchBtn\";\n        org = \"activeSwitchBtn\";\n    }\n    return (\n        <div className=\"resultMap\">\n            <MapContainer center={[47.816387, 6.381389]} zoom={4}>\n                <TileLayer\n                    url=\"https://d.tile.openstreetmap.de/{z}/{x}/{y}.png\"\n                    attribution=\"&copy; <a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors\"\n                />\n                {isModernPlace ? (\n                    <MarkerClusterGroup>\n                        {props.result.manuscripts.map((item: IResultManuscript) => {\n                            if (item.library[0].latitude !== 0 && !isNaN(item.library[0].latitude)) {\n                                let position: LatLngTuple = [item.library[0].latitude, item.library[0].longitude];\n                                return (<Marker position={position}>\n                                    <Popup><span>{item.library[0].place_name}<br/></span><span className=\"hcClickable\"\n                                                                                               onClick={() => {\n                                                                                                   window.location.href = \"#detail/\" + item.id;\n                                                                                               }}>\n                            Go to manuscript\n                      </span></Popup>\n                                </Marker>)\n                            }\n                        })}\n                    </MarkerClusterGroup>\n                ) : (\n                    <MarkerClusterGroup>\n                        {props.result.manuscripts.map((item: IResultManuscript) => {\n                            if (item.absolute_places[0].latitude !== 0 && !isNaN(item.absolute_places[0].latitude)) {\n                                let position: LatLngTuple = [item.absolute_places[0].latitude, item.absolute_places[0].longitude];\n                                return (<Marker position={position}>\n                                    <Popup><span>{item.absolute_places[0].place_absolute}<br/></span><span\n                                        className=\"hcClickable\" onClick={() => {\n                                        window.location.href = \"#detail/\" + item.id;\n                                    }}>\n                            Go to manuscript\n                      </span></Popup>\n                                </Marker>)\n                            }\n                        })}\n                    </MarkerClusterGroup>\n                )}\n\n\n            </MapContainer>\n            <div className=\"mapSwitch\">\n                <div className={org} onClick={() => {\n                    setModernPlace(false)\n                }}>Place of origin\n                </div>\n                <div className={lib} onClick={() => {\n                    setModernPlace(true)\n                }}>Current location\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default IsiMap;\n\n","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport slider from \"../assets/img/slider.png\";\n\n\n\nfunction DummySliderFacet() {\n    const [help, setHelp] = useState(false);\n\n\n\n    return (\n        <div className=\"hcFacet\">\n            <div className=\"hcFacetTitle\">\n                Date numerical\n            </div>\n            { help &&\n            <div className=\"hcFacetHelp\">\n                <strong>Free text facet</strong><br/>\n                Type text and complete with ENTER.\n            </div> }\n            <div className=\"hcFacetItems\">\n                <img className=\"sliderImg\" src={slider}/>\n            </div>\n            (This facet isn't active yet.)\n            {/*<div className=\"hcClickable\" >\n                { true ? (<div>More...</div>) : (<div>Less...</div>)}\n            </div>*/}\n        </div>\n    );\n\n}\n\nexport default DummySliderFacet;","export default \"data:image/png;base64,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bnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiBleGlmOlBpeGVsWERpbWVuc2lvbj0iNDkyIiBleGlmOlBpeGVsWURpbWVuc2lvbj0iMTAyIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMC0wOS0yN1QxNToyMzo0NyswMjowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjAtMDktMjdUMTU6MzI6MDIrMDI6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMDktMjdUMTU6MzI6MDIrMDI6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0iRGlzcGxheSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpkZjU1YzVhMi1lMTUyLTQ4ZTctOTFlNC0xYzE4ZmUxZjY2MmUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6YTRlMjZjMGUtZTVhNS00NzViLWEyODktNTdjNmU5NTRhNWYyIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YTRlMjZjMGUtZTVhNS00NzViLWEyODktNTdjNmU5NTRhNWYyIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YTRlMjZjMGUtZTVhNS00NzViLWEyODktNTdjNmU5NTRhNWYyIiBzdEV2dDp3aGVuPSIyMDIwLTA5LTI3VDE1OjMwOjI1KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8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\"","import React, {useEffect} from \"react\";\nimport Header from \"../page/header\";\nimport Footer from \"../page/footer\";\nimport ManuscriptList from \"./manuscriptList\";\nimport {useState} from \"react\";\nimport SearchFreeText from \"../facets/searchFreeText\";\nimport GeoNameFacet from \"../facets/geoNameFacet\";\nimport AbsolutePlaceFacet from \"../facets/absolutePlaceFacet\";\nimport DatelabelFacet from \"../facets/dateLabelFacet\";\nimport DatePeriodFacet from \"../facets/dataPeriodFacet\";\nimport FiltersFacet from \"../facets/filtersFacet\";\nimport BookFacet from \"../facets/bookFacet\";\nimport PageDimensionsFacet from \"../facets/pageDimensions\";\nimport PhysicalStateFacet from \"../facets/physicalStateFacet\";\nimport ScriptFacet from \"../facets/scriptFacet\";\nimport ManuscriptTypeFacet from \"../facets/manuscriptType\";\nimport LayoutFacet from \"../facets/layoutFacet\";\nimport TransmittedFacet from \"../facets/transmittedFacet\";\nimport ProvenanceFacet from \"../facets/provenanceFacet\";\nimport AuthorFacet from \"../facets/authorFacet\";\nimport CurrentPlaceFacet from \"../facets/currentPlaceFacet\";\nimport RegionFacet from \"../facets/regionFacet\";\nimport {IResultManuscriptList, ISearchObject, ISendCandidate, IFacetCandidate, ISearchValues, IRemoveFacet, IResetFacets} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\nimport IsiMap from \"../elements/map\";\nimport DummySliderFacet from \"../facets/dummySliderfacet\";\n\n\nexport default function Search(props: {search_string: string}) {\n    let searchBuffer: ISearchObject = {\n        facetstate: {\n            search: true,\n            geo: false,\n            dateLabel: false,\n            book: false,\n            dimensions: false,\n            filters: false,\n            physicalState: false,\n            script: false,\n            manuscript: false,\n            layout: false,\n            transmitted: false,\n            provenance: false,\n            authors: false,\n            currentplace: false,\n            region: false\n        },\n        searchvalues: \"none\",\n        page: 1,\n        page_length: 20,\n        sortorder: \"\"\n    };\n\n    if (props.search_string !== \"none\") {\n        try {\n            searchBuffer = JSON.parse(Base64.fromBase64(props.search_string)) as ISearchObject;\n        } catch (Error) {\n            window.scroll(0, 0);\n            window.location.href = \"/\";\n        }\n\n    }\n\n    const [searchFT, setSearchFT] = useState(searchBuffer.facetstate.search);\n    const [geoFacet, setGeoFacet] = useState(searchBuffer.facetstate.geo);\n    const [dateLabelFacet, setDatelabelFacet] = useState(searchBuffer.facetstate.dateLabel);\n    const [bookFacet, setBookFacet] = useState(searchBuffer.facetstate.book);\n    const [dimFacet, setDimFacet] = useState(searchBuffer.facetstate.dimensions);\n    const [filterFacet, setFilterFacet] = useState(searchBuffer.facetstate.filters);\n    const [physicalStateFacet, setPhysicalStatefacet] = useState(searchBuffer.facetstate.physicalState);\n    const [scriptFacet, setScriptFacet] = useState(searchBuffer.facetstate.script);\n    const [manuscriptFacet, setManuscriptFacet] = useState(searchBuffer.facetstate.manuscript);\n    const [layoutFacet, setLayoutFacet] = useState(searchBuffer.facetstate.layout);\n    const [transmittedFacet, setTransmittedFacet] = useState(searchBuffer.facetstate.transmitted);\n    const [provenanceFacet, setProvenanceFacet] = useState(searchBuffer.facetstate.provenance);\n    const [authorFacet, setAuthorFacet] = useState(searchBuffer.facetstate.authors);\n    const [currentPlaceFacet, setCurrentPlaceFacet] = useState(searchBuffer.facetstate.currentplace);\n    const [regionFacet, setRegionFacet] = useState(searchBuffer.facetstate.region);\n    const [refresh, setRefresh] = useState(false);\n    const [searchData, setSearchData] = useState<ISearchObject>(searchBuffer);\n\n\n\n    const cross: string = \"[x]\";\n    let facets: ISearchValues[] = [];\n    if (typeof searchBuffer.searchvalues === \"object\") {\n        facets = searchBuffer.searchvalues as ISearchValues[];\n    }\n\n    const [loading, setLoading] = useState(true);\n    const [result, setResult] = useState<IResultManuscriptList>({amount: 0, pages: 0, manuscripts: []});\n\n    async function fetchData() {\n        const url = SERVICE_SERVER + \"search/\" + Base64.toBase64(JSON.stringify(searchData));\n        const response = await fetch(url);\n        const json: IResultManuscriptList = await response.json();\n        setResult(json);\n        setLoading(false);\n    }\n\n    const removeFacet: IRemoveFacet = (field: string, value: string) => {\n        let searchBuffer: ISearchObject = searchData;\n        if (typeof searchBuffer.searchvalues === \"object\") {\n            searchBuffer.searchvalues.forEach((item: ISearchValues) => {\n                if (item.name === field) {\n                    item.values = item.values.filter((element => element !== value));\n                }\n            })\n            searchBuffer.searchvalues = searchBuffer.searchvalues.filter(function (el) {\n                return el.values.length > 0\n            });\n            if (searchBuffer.searchvalues.length === 0) {\n                searchBuffer.searchvalues = \"none\";\n            }\n        }\n        setSearchData(searchBuffer);\n        window.location.href = \"#search/\" + Base64.toBase64(JSON.stringify(searchData));\n        setRefresh(!refresh);\n    }\n\n    function openWindow(ref: string) {\n        let a= document.createElement('a');\n        a.target= '_blank';\n        a.href= ref;\n        a.click();\n    }\n\n    const resetFacets: IResetFacets = () => {\n        let searchBuffer: ISearchObject = searchData;\n        searchBuffer.page = 1;\n        searchBuffer.searchvalues = \"none\";\n        setSearchData(searchBuffer);\n        window.location.href = \"#search/\" + Base64.toBase64(JSON.stringify(searchData));\n        setRefresh(!refresh);\n    }\n\n\n\n    const sendCandidate: ISendCandidate = (candidate: IFacetCandidate) => {\n        let searchBuffer: ISearchObject = searchData;\n        if (searchData.searchvalues === \"none\") {\n            searchBuffer.searchvalues = [{\n                name: candidate.facet,\n                field: candidate.field,\n                values: [candidate.candidate]\n            } as ISearchValues];\n            setSearchData(searchData);\n            window.location.href = \"#search/\" + Base64.toBase64(JSON.stringify(searchData));\n            setRefresh(!refresh);\n        } else {\n            if (typeof searchBuffer.searchvalues === \"object\") {\n                let found: boolean = false;\n                searchBuffer.searchvalues.forEach((item) => {\n                    if (item.name === candidate.facet) {\n                        found = true;\n                        if (!item.values.includes(candidate.candidate)) {\n                            item.values.push(candidate.candidate);\n                        }\n                    }\n                });\n                if (!found) {\n                    searchBuffer.searchvalues.push({\n                        name: candidate.facet,\n                        field: candidate.field,\n                        values: [candidate.candidate]\n                    });\n                }\n            }\n            searchBuffer.page = 1;\n            setSearchData(searchData);\n            window.location.href = \"#search/\" + Base64.toBase64(JSON.stringify(searchData));\n            setRefresh(!refresh);\n            window.scroll(0, 0);\n        }\n    }\n\n\n    function setPageLength(amount: string) {\n        let sd = searchData;\n        sd.page = 1;\n        sd.page_length = parseInt(amount);\n        setSearchData(sd);\n        window.location.href = \"#search/\" + Base64.toBase64(JSON.stringify(searchData));\n        setRefresh(!refresh);\n    }\n\n    function nextPage() {\n        goToPage(searchData.page + 1);\n    }\n\n    function prevPage() {\n        if (searchData.page > 0) {\n            goToPage(searchData.page - 1);\n        }\n\n    }\n\n    function goToPage(page: number) {\n        let sd = searchData;\n        sd.page = page;\n        setSearchData(sd);\n        window.location.href = \"#search/\" + Base64.toBase64(JSON.stringify(searchData));\n        setRefresh(!refresh);\n        window.scroll(0, 0);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [refresh]);\n\n    return (\n        <div>\n            <Header/>\n            <div className=\"hcContentContainer hcMarginBottom5\">\n                <div className=\"hcBasicSideMargin hcMarginTop1 hcMarginBottom5\">\n                    <h2>Search manuscripts</h2>\n                    <div className=\"hcLayoutFacet-Result hcBasicSideMargin hcMarginBottom15\">\n                        <div className=\"hcLayoutFacets\">\n                            <button type=\"button\" name=\"button\" id=\"showFacets\" className=\"hcfixedSideButton\"><img\n                                src=\"https://d33wubrfki0l68.cloudfront.net/191a405740a4ade92836ba6eea6a6ceaa798bf2f/a4d8b/images/icons/icon-set-facets.svg\"\n                                className=\"icon\" alt=\"Facet button\"/></button>\n                            <div className=\"hcFacetSubDivision\"\n                                 onClick={() => setSearchFT(!searchFT)}>\n                                {searchFT ? (<span className=\"hcFacetGroup\">&#9660; search</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; search</span>\n                                )}\n                            </div>\n                            {searchFT ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <SearchFreeText  add={sendCandidate}/>\n                                </div>) : (<div/>)}\n\n                            <div className=\"hcFacetSubDivision\" onClick={() => {\n                                setCurrentPlaceFacet(!currentPlaceFacet);\n                            }}>\n                                {currentPlaceFacet ? (<span className=\"hcFacetGroup\">&#9660; current place</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; current place</span>)}\n                            </div>\n                            {currentPlaceFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <CurrentPlaceFacet add={sendCandidate} search={searchData} refresh={refresh}/>\n                                </div>) : (<div/>)}\n                            <div className=\"hcFacetSubDivision\"\n                                 onClick={() => setDatelabelFacet(!dateLabelFacet)}>\n                                {dateLabelFacet ? (<span className=\"hcFacetGroup\">&#9660; date of origin</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; date of origin</span>)}\n                            </div>\n                            {dateLabelFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <DatelabelFacet add={sendCandidate} search={searchData} refresh={refresh}/>\n                                    <DummySliderFacet/>\n                                </div>) : (<div/>)}\n\n                            <div className=\"hcFacetSubDivision\"\n                                 onClick={() => setGeoFacet(!geoFacet)}>\n                                {geoFacet ? (<span className=\"hcFacetGroup\">&#9660; place of origin</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; place of origin</span>)}\n                            </div>\n                            {geoFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <GeoNameFacet add={sendCandidate} search={searchData} refresh={refresh}/>\n                                    <AbsolutePlaceFacet add={sendCandidate} search={searchData} refresh={refresh}/>\n                                </div>) : (<div/>)}\n\n                            <div className=\"hcFacetSubDivision\" id=\"shipmasterFacetsTitle\" onClick={() => {\n                                setRegionFacet(!regionFacet);\n                            }}>\n                                {regionFacet ? (<span className=\"hcFacetGroup\">&#9660; region of origin</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; region of origin</span>)}\n                            </div>\n                            {regionFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <RegionFacet add={sendCandidate} search={searchData} refresh={refresh}/>\n                                </div>) : (<div/>)}\n\n                            <div className=\"hcFacetSubDivision\" id=\"shipmasterFacetsTitle\" onClick={() => {\n                                setProvenanceFacet(!provenanceFacet);\n                            }}>\n                                {provenanceFacet ? (<span className=\"hcFacetGroup\">&#9660; provenance</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; provenance</span>)}\n                            </div>\n                            {provenanceFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <ProvenanceFacet parentCallback={sendCandidate} search={searchData} refresh={refresh}/>\n                                </div>) : (<div/>)}\n\n                            <div className=\"hcFacetSubDivision\" id=\"shipmasterFacetsTitle\"\n                                 onClick={() => setDimFacet(!dimFacet)}>\n                                {dimFacet ? (<span className=\"hcFacetGroup\">&#9660; page dimensions</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; page dimensions</span>)}\n                            </div>\n                            {dimFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <PageDimensionsFacet add={sendCandidate} search={searchData} refresh={refresh}/>\n                                </div>) : (<div/>)}\n\n                            <div className=\"hcFacetSubDivision\" id=\"shipmasterFacetsTitle\" onClick={() => {\n                                setLayoutFacet(!layoutFacet);\n                            }}>\n                                {layoutFacet ? (<span className=\"hcFacetGroup\">&#9660; layout</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; layout</span>)}\n                            </div>\n                            {layoutFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <LayoutFacet add={sendCandidate} search={searchData} refresh={refresh}/>\n                                </div>) : (<div/>)}\n\n                            <div className=\"hcFacetSubDivision\" id=\"shipmasterFacetsTitle\" onClick={() => {\n                                setPhysicalStatefacet(!physicalStateFacet);\n                            }}>\n                                {physicalStateFacet ? (<span className=\"hcFacetGroup\">&#9660; physical state</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; physical state</span>)}\n                            </div>\n                            {physicalStateFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <PhysicalStateFacet add={sendCandidate} search={searchData} refresh={refresh}/>\n                                </div>) : (<div/>)}\n\n\n                            <div className=\"hcFacetSubDivision\" id=\"shipmasterFacetsTitle\" onClick={() => {\n                                setTransmittedFacet(!transmittedFacet);\n                            }}>\n                                {transmittedFacet ? (\n                                    <span className=\"hcFacetGroup\">&#9660; etym. transmitted as</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; etym. transmitted as</span>)}\n                            </div>\n                            {transmittedFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <TransmittedFacet add={sendCandidate} search={searchData} refresh={refresh}/>\n                                </div>) : (<div/>)}\n                            <div className=\"hcFacetSubDivision\" id=\"shipmasterFacetsTitle\" onClick={() => {\n                                setBookFacet(!bookFacet)\n                            }}>\n                                {bookFacet ? (<span className=\"hcFacetGroup\">&#9660; books</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; books</span>)}\n                            </div>\n                            {bookFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <BookFacet add={sendCandidate}/>\n                                </div>) : (<div/>)}\n\n                            <div className=\"hcFacetSubDivision\" id=\"shipmasterFacetsTitle\" onClick={() => {\n                                setManuscriptFacet(!manuscriptFacet);\n                            }}>\n                                {manuscriptFacet ? (<span className=\"hcFacetGroup\">&#9660; manuscript type</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; manuscript type</span>)}\n                            </div>\n                            {manuscriptFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <ManuscriptTypeFacet  add={sendCandidate} search={searchData} refresh={refresh}/>\n                                </div>) : (<div/>)}\n\n                            <div className=\"hcFacetSubDivision\" onClick={() => {\n                                setAuthorFacet(!authorFacet);\n                            }}>\n                                {authorFacet ? (<span className=\"hcFacetGroup\">&#9660; author / text / types</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; author / text / types</span>)}\n                            </div>\n                            {authorFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <AuthorFacet parentCallback={sendCandidate} search={searchData} refresh={refresh}/>\n                                </div>) : (<div/>)}\n\n                            <div className=\"hcFacetSubDivision\" onClick={() => {\n                                setScriptFacet(!scriptFacet);\n                            }}>\n                                {scriptFacet ? (<span className=\"hcFacetGroup\">&#9660; script</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; script</span>)}\n                            </div>\n                            {scriptFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <ScriptFacet add={sendCandidate} search={searchData} refresh={refresh}/>\n                                </div>) : (<div/>)}\n\n                            <div className=\"hcFacetSubDivision\" onClick={() => {\n                                setFilterFacet(!filterFacet)\n                            }}>\n                                {filterFacet ? (<span className=\"hcFacetGroup\">&#9660; other filters</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; other filters</span>)}\n                            </div>\n                            {filterFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <FiltersFacet add={sendCandidate} search={searchData} refresh={refresh}/>\n                                </div>) : (<div/>)}\n                        </div>\n\n                        <div className=\"hcLayoutResults\">\n                            <div className=\"hcResultsHeader hcMarginBottom1\">\n                                <div className=\"hcNumberFound\">Manuscripts found: {result.amount} - Page {searchData.page} of {result.pages}</div>\n                                <div><select value={searchData.page_length} className=\"hcAmountOfPages\"\n                                             onChange={(e) => setPageLength(e.target.value)}>\n                                    <option value={20}>20 manuscripts per page</option>\n                                    <option value={50}>50 manuscripts per page</option>\n                                    <option value={100}>100 manuscripts per page</option>\n                                    <option value={500}>All manuscripts</option>\n                                </select></div>\n                            </div>\n                            <div className=\"hcMarginBottom2\">\n                                <div className=\"hcSmallTxt hcTxtColorGreyMid\">Selected facets:\n                                    {searchData.searchvalues !== \"none\" && result.amount > 0 && <span\n                                        className=\"hcFacetReset hcClickable\" onClick={() => {openWindow(SERVICE_SERVER + \"download/\" + Base64.toBase64(JSON.stringify(searchData)))}}>&nbsp;- Download results&nbsp;</span>}\n                                    <span\n                                    className=\"hcFacetReset hcClickable\" onClick={resetFacets}>Reset facets</span>\n                                </div>\n                                {searchData.searchvalues === \"none\" ? (\n                                    <span className=\"hcSelectedFacet\"><span\n                                        className=\"hcSelectedFacetType\">None</span></span>\n                                ) : (\n                                    facets.map((item: ISearchValues) => {\n                                        return (\n                                            <span className=\"hcSelectedFacet\"><span\n                                                className=\"hcSelectedFacetType\">{item.name}: </span>\n                                                {item.values.map(function (skipper, i) {\n                                                    return (<div className=\"hcFacetValues\" key={i}\n                                                                 onClick={() => removeFacet(item.name, skipper)}>{skipper} {cross} </div>)\n                                                })}\n                                    </span>\n                                        )\n                                    })\n                                )}\n                            </div>\n                            {loading ? (<div>Loading...</div>) : (\n                                <div>\n                                    <IsiMap result={result}/>\n                                    <ManuscriptList result={result}/>\n                                    <div className=\"hcPagination\">\n                                        {searchData.page > 1 ? (<div className=\"hcClickable\" onClick={() => {prevPage()}}>&#8592; Previous</div>) : (<div/>)}\n                                        {searchData.page < result.pages ? (<div className=\"hcClickable\" onClick={() => {nextPage()}}>Next &#8594;</div>) : (<div/>)}\n                                    </div>\n                                </div>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <Footer/>\n        </div>\n    )\n}","import React, {useState} from \"react\";\nimport {IManuscript} from \"../misc/interfaces\";\nimport {SERVICE_SERVER, HOME} from \"../misc/config\";\n\n\nfunction ManuscriptDetails(props: { manuscript: IManuscript }) {\n    const layout_items = props.manuscript.layout;\n    const content = props.manuscript.content;\n    const img: string = SERVICE_SERVER + \"img/detail/\" + props.manuscript.image;\n    const additional_content = props.manuscript.additional_content;\n    const larger_unit = props.manuscript.larger_unit;\n    const related_manuscripts = props.manuscript.related_manuscripts;\n    const bibliography = props.manuscript.bibliography;\n    const digitized = props.manuscript.digitized_at;\n\n    let folText = \"fols.\";\n    if (props.manuscript.no_of_folia === \"1\") {\n        folText = \"fol.\";\n    }\n\n    let source_of_date = \"\";\n    if (props.manuscript.source_dating !== \"\") {\n        source_of_date = \"(\" + props.manuscript.source_dating + \")\";\n    }\n\n    let pgType = \"Page\";\n    if (props.manuscript.page_number.indexOf('r') !== -1 || props.manuscript.page_number.indexOf('v') !== -1) {\n        pgType = \"Folio\";\n    }\n\n\n    function openWindow(ref: string) {\n        let a = document.createElement('a');\n        a.target = '_blank';\n        a.href = ref;\n        a.click();\n    }\n\n\n    return (\n        <div className=\"hcManuscriptBasicInfo\">\n            <div className=\"backLine\" onClick={() => {\n                window.history.back()\n            }}>Back to results\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabelHeader\">\n                        {props.manuscript.shelfmark}\n                        <div className=\"hcSteinova\">{props.manuscript.steinova}</div>\n                    </div>\n                    <div className=\"urlLine\">{HOME}#detail/{props.manuscript.id}</div>\n                </div>\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptValueSmall\">\n                        Created by Evina Steinov on 7 September 2020<br/>\n                        Last modified by Evina Steinov on 7 September 2020\n                    </div>\n                    <div className=\"hcManuscriptValueOtherIDs\">\n                        {props.manuscript.anspach !== \"\" ? (<div>Anspach {props.manuscript.anspach}</div>) : (<div/>)}\n                        {props.manuscript.bischoff !== \"\" ? (<div>Bischoff {props.manuscript.bischoff}</div>) : (\n                            <div/>)}\n                        {props.manuscript.cla !== \"\" ? (<div>CLA {props.manuscript.cla}</div>) : (<div/>)}\n                    </div>\n                </div>\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Date of origin\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {props.manuscript.bischoff_cla_date} {source_of_date}\n                    </div>\n                </div>\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Place of origin\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {props.manuscript.place_absolute}\n                    </div>\n                </div>\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Provenance\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {props.manuscript.provenance}\n                    </div>\n\n                </div>\n                <div className=\"hcManuscriptImg\"><img className=\"thumb\" src={img}/>\n                    {props.manuscript.page_number !== \"\" &&\n                    <div className=\"hcPageNumber\">{pgType} {props.manuscript.page_number}</div>}\n                </div>\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Folia\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {props.manuscript.no_of_folia} {folText}\n                    </div>\n                </div>\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Layout\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {layout_items}\n                    </div>\n                </div>\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Script\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {props.manuscript.script}\n                    </div>\n                </div>\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Transmission format\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {props.manuscript.designed_as}\n                    </div>\n                </div>\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Physical condition\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {props.manuscript.physical_state_scaled}\n                        {props.manuscript.physical_state !== \"\" ? (<div>{props.manuscript.physical_state}</div>) : (\n                            <div/>)}\n                    </div>\n                </div>\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Content\n                    </div>\n\n                    {content.map(item => {\n                        return <div className=\"hcManuscriptRow\">\n                            <div className=\"hcManuscriptValue underlineListItem\">\n                                <div>{item.material_type === \"full\" ? (\n                                    <strong>canonical Etymologiae</strong>) : (\n                                    <strong>{item.material_type}</strong>)}, <strong>books: {item.books_included}</strong>\n                                </div>\n                                {item.details.map(values => {\n                                    return <div className=\"line\"><i>Etym. </i> {values.details}&nbsp;&nbsp;&nbsp;\n                                        <i>({values.locations})</i></div>\n                                })}\n                            </div>\n                        </div>\n                    })}\n                </div>\n\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Type\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {props.manuscript.type}\n                    </div>\n                </div>\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Additional content\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {additional_content.map(line => {\n                            return <div className=\"line\">{line}</div>\n                        })}\n                    </div>\n                </div>\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Larger unit\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {larger_unit.map(line => {\n                            return <div className=\"line\">{line}</div>\n                        })}\n                    </div>\n                </div>\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Related manuscripts\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {related_manuscripts.map((item, index) => {\n                                return (<div>\n                                    <div className=\"cursLine\">{item.reason}</div>\n                                    {item.intern.map((item_in, index) => {\n                                        const url = \"/#detail/\" + item_in.id;\n                                        return (<div key={index} className=\"linkLine\" onClick={() => {\n                                            window.scroll(0, 0);\n                                            window.location.href = url;\n                                        }}>{item_in.shelfmark}</div>)\n                                    })}\n                                    {item.extern.map((index_ex, index) => {\n                                        return (<div key={index} className=\"line\">{index_ex.item}</div>)\n                                    })}\n                                </div>)\n                            }\n                        )}\n                    </div>\n                </div>\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Innovative features\n                    </div>\n                </div>\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptValue underlineListItem\">\n                        <div><strong>Annotations</strong></div>\n                        {props.manuscript.annotations}\n                    </div>\n                </div>\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptValue underlineListItem\">\n                        <div><strong>Diagrams</strong></div>\n                        {props.manuscript.diagrams}\n                    </div>\n                </div>\n\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptValue underlineListItem\">\n                        <div><strong>Innovations</strong></div>\n                        {props.manuscript.innovations}\n                    </div>\n                </div>\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Additional observations\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {props.manuscript.additional_observations}\n                    </div>\n                </div>\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Bibliography\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {bibliography.map(line => {\n                            return <div className=\"line\">{line}</div>\n                        })}\n                    </div>\n                </div>\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Digitized at\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {digitized.map(line => {\n                            return <div className=\"linkLine\" onClick={() => {\n                                openWindow(line.item);\n                            }}>{line.item}</div>\n                        })}\n                    </div>\n                </div>\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Additional information online\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {props.manuscript.url_other === \"-\" ?\n                            (\n                                <div>{props.manuscript.url_other}</div>\n                            ) : (\n                                <div className=\"linkLine\" onClick={() => {\n                                    openWindow(props.manuscript.url_other);\n                                }}>{props.manuscript.url_other}</div>\n                            )}\n                    </div>\n                </div>\n            </div>\n            <div className=\"backLine\" onClick={() => {\n                window.history.back()\n            }}>Back to results\n            </div>\n        </div>\n    )\n}\n\nexport default ManuscriptDetails;\n","import React from \"react\";\nimport Header from \"../page/header\";\nimport Footer from \"../page/footer\";\nimport ManuscriptDetails from \"./manuscriptDetails\";\nimport {useState} from \"react\";\nimport {IManuscript} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\n\nfunction Manuscript(props: {manuscriptID: string}) {\n    const [loading, setLoading] = useState(true);\n    const [result, setResult] = useState<IManuscript>({} as IManuscript);\n\n    async function fetchData() {\n        const url = SERVICE_SERVER + \"detail/\" + props.manuscriptID;\n        console.log(url);\n        const response = await fetch(url);\n        const json: IManuscript = await response.json();\n        setResult(json);\n        setLoading(false);\n    }\n    if (loading) {\n        fetchData();\n    }\n\n    return (\n        <div>\n            <Header/>\n            <div className=\"hcContentContainer hcMarginBottom5\">\n                <div className=\"hcBasicSideMargin hcMarginTop1 hcMarginBottom5\">\n\n                    {/*<div className=\"hcLayoutFacet-Result hcBasicSideMargin hcMarginBottom15\">*/}\n                        {/*<div className=\"hcLayoutFacets\">*/}\n                        {/*                <div>*/}\n                        {/*                    <img id=\"hcLeftScan\" src=\"\" alt=\"\"/>*/}\n                        {/*                    <span className=\"hcScanName\"></span>*/}\n                        {/*                </div>*/}\n                        {/*</div>*/}\n                        <div className=\"hcLayoutResults\">\n                            <div className=\"hcResultsHeader hcMarginBottom1\">\n                                {loading ? (\n                                    <div>Loading...</div>\n                                ) : (\n                                    <ManuscriptDetails manuscript={result}/>\n                                )}\n\n                            </div>\n                        </div>\n                    {/*</div>*/}\n                </div>\n            </div>\n            <Footer/>\n        </div>\n    )\n}\n\nexport default Manuscript;\n","import { StateValue, EventObject, Interpreter, State } from 'xstate';\nimport React, { useEffect, useState, ReactElement } from 'react';\nimport { StateListener } from 'xstate/lib/interpreter';\n\n\ninterface StateDefinition<TContext, Events extends EventObject> {\n  [K: string]: React.FunctionComponent<{state: State<TContext, Events>}> | StateDefinition<TContext, Events>\n}\n\ntype AsStateDefinition<T, TContext, TEvents extends EventObject> = T extends {type: \"parallel\", states: infer Sub} \n  ? ({\n    [K in Exclude<keyof Sub, \"History\">]: AsStateDefinition<Sub[K], TContext, TEvents>\n  } & {\":merge\": React.FunctionComponent<{state: State<TContext, TEvents>, input: {[K in keyof Sub]: React.FunctionComponent<{state: State<TContext, TEvents>}>}}>})\n  : T extends {states: infer Sub}\n    ? React.FunctionComponent<{state: State<TContext, TEvents>}> | {\n      [K in Exclude<keyof Sub, \"History\">]: AsStateDefinition<Sub[K], TContext, TEvents>\n    } | ({\"\": React.FunctionComponent<{state: State<TContext, TEvents>}>} & {\n      [K in Exclude<keyof Sub, \"History\">]?: AsStateDefinition<Sub[K], TContext, TEvents>\n    })\n    : React.FunctionComponent<{state: State<TContext, TEvents>}>\n\nexport function StateMachineComponent<TContext, Schema, Events extends EventObject>(interpreter: Interpreter<TContext, Schema, Events>, screens: AsStateDefinition<Schema, TContext, Events>): ReactElement {\n\n\n  return React.createElement(function ThisIsAFunctionComponentNoteTheCapitalFirstLetterYo() {\n    const [curState, setState] = useState(interpreter.state);\n    useEffect(() => {\n      const cb: StateListener<TContext, Events> = state => {\n        return setState(state);\n      }\n      interpreter.onTransition(cb);\n      return () => {\n        interpreter.off(cb)\n      }\n    }, [interpreter, screens])\n    const view = pickReactComponents(curState.value, screens as any)\n    if (view !== undefined) {\n      const props: any = {state: curState}\n      return React.createElement(view, props)\n    } else {\n      return <div>No GUI defined for {JSON.stringify(curState.value)}</div>\n    }\n  })\n}\n\nfunction isFunctionComponent<TContext, Events extends EventObject>(val: StateDefinition<TContext, Events> | React.FunctionComponent<{state: State<TContext, Events>}>): val is React.FunctionComponent<{state: State<TContext, Events>}> {\n  return typeof val === \"function\"\n}\n\nfunction getFirstReactComponent<TContext, Events extends EventObject>(val: StateDefinition<TContext, Events>): React.FunctionComponent<{state: State<TContext, Events>}> | undefined {\n  for (const key in val) {\n    const item = val[key]\n    if (isFunctionComponent(item)) {\n      return item\n    } else {\n      return getFirstReactComponent(item)\n    }\n  }\n  return undefined\n}\n\nfunction pickReactComponents<TContext, Events extends EventObject>(state: StateValue, config: StateDefinition<TContext, Events>): React.FunctionComponent<{state: State<TContext, Events>}> | undefined {\n  if (typeof state === \"string\") {\n    const configVal = config[state]\n    if (configVal === undefined) {\n      return (config[state] === undefined ? config[\"\"] : config[state]) as React.FunctionComponent | undefined\n    }\n    else if (isFunctionComponent(configVal)) {\n      return configVal\n    } else {\n      console.error(\"Non-terminal state config for an atomic state!\")\n      return getFirstReactComponent(configVal)\n    }\n  } else {\n    const result: {[key: string]: React.FunctionComponent<{state: State<TContext, Events>}>} = {}\n    let singleResult;\n    let count = 0\n    for (const key in state) {\n      const configVal = config[key]=== undefined ? config[\"\"] : config[key]\n      if (isFunctionComponent(configVal)) {\n        count++\n        result[key] = configVal\n        singleResult = configVal\n      } else if (typeof configVal === \"object\") {\n        const subResult = pickReactComponents(state[key], configVal)\n        if (subResult !== undefined) {\n          count++\n          result[key] = subResult\n          singleResult = subResult\n        }\n      }\n    }\n    if (count === 1) {\n      return singleResult\n    } else {\n      const merger = config[\":merge\"] as any\n      return (props: any) => merger({state: props.state, input: result})\n    }\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {assign, Machine} from \"xstate\";\n\nexport const IsiMachine = Machine<{\n    search_string: string,\n    manuscript_id: string\n}, {\n    states: {\n        fourOhFour: {},\n        detail: {},\n        search: {},\n    }\n}>(\n    {\n        id: 'fetch',\n        initial: 'search',\n        context: {\n            search_string: \"none\",\n            manuscript_id: \"\",\n        },\n        on: {\n            detail: {\n                actions: assign({\n                    manuscript_id: (context, event) => event.manuscript_id\n                }),\n                target: \"detail\"\n            },\n            search: {\n                actions: assign({\n                    search_string: (context, event) => event.search_string\n                }),\n                target: \"search\"\n            },\n            \"*\": \"fourOhFour\"\n        },\n        states: {\n            fourOhFour: {},\n            detail: {\n                on: {\n                    search: \"search\",\n                    detail: \"detail\"\n                }\n            },\n            search: {\n                on: {\n                    item: \"detail\"\n                }\n            }\n        }\n    }\n);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Search from \"./components/search\";\nimport Manuscript from \"./components/manuscript\";\nimport {StateMachineComponent} from \"./renderMachine\";\nimport * as serviceWorker from './serviceWorker';\nimport {interpret} from \"xstate\";\nimport './assets/css/isidore.css';\nimport {IsiMachine} from \"./machine/model\";\n\n\nconst interpreter = interpret(IsiMachine);\ninterpreter.start();\n\ngotoUrl();\n\nfunction gotoUrl() {\n    if (window.location.hash.substr(1).indexOf(\"detail/\") === 0) {\n        const id = window.location.hash.substr(window.location.hash.indexOf(\"/\") + 1);\n        interpreter.send(\"fourOhFour\"); //Filthy solution for forcing props reload!!!\n        interpreter.send(\"detail\", {manuscript_id: id});\n    } else {\n        if (window.location.hash.substr(1).indexOf(\"search\") === 0) {\n            if (window.location.hash.substr(1).length > 6 && window.location.hash.substr(1).indexOf(\"search\") !== -1) {\n                const id = window.location.hash.substr(window.location.hash.indexOf(\"/\") + 1);\n                interpreter.send(\"search\", {search_string: id});\n            } else {\n                const id = \"none\";\n                interpreter.send(\"search\", {search_string: id});\n            }\n        } else {\n            const id = \"none\";\n            interpreter.send(\"search\", {search_string: id});\n        }\n    }\n}\n\nwindow.onhashchange = gotoUrl;\n\n\n\n\nReactDOM.render(\n    <div>\n        {StateMachineComponent(interpreter, {\n            \"detail\": ({state}) => <Manuscript manuscriptID={(state.context || {}).manuscript_id}/>,\n            \"search\": ({state}) => <Search  search_string={(state.context || {}).search_string}/>,\n            \"fourOhFour\": ({state}) => <div>404</div>,\n            \"\": ({state}) => <div>The GUI for {state.value} is not yet defined</div>\n        })}</div>\n    , document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}