{"version":3,"sources":["assets/img/logo-innovatingknowledge.png","misc/config.tsx","page/header.tsx","page/footer.tsx","elements/manuscriptResultItem.tsx","components/manuscriptList.tsx","facets/searchFreeText.tsx","facets/geoNameFacet.tsx","facets/absolutePlaceFacet.tsx","facets/dateLabelFacet.tsx","elements/bookFacetItem.tsx","facets/bookFacet.tsx","facets/pageDimensions.tsx","facets/physicalStateFacet.tsx","facets/scriptFacet.tsx","facets/manuscriptType.tsx","facets/layoutFacet.tsx","facets/transmittedFacet.tsx","facets/provenanceFacet.tsx","facets/authorFacet.tsx","facets/currentPlaceFacet.tsx","facets/regionFacet.tsx","elements/map.tsx","facets/dummySliderfacet.tsx","assets/img/slider.png","facets/annotationsFacet.tsx","facets/digitizedFacet.tsx","facets/largerCollectionFacet.tsx","facets/excludeFullFacet.tsx","components/search.tsx","components/manuscriptDetails.tsx","components/manuscript.tsx","renderMachine.tsx","serviceWorker.ts","machine/model.tsx","index.tsx"],"names":["SERVICE_SERVER","HOME","Header","window","location","href","className","onClick","goHome","src","logo","alt","React","Component","Footer","ManuscriptResultItem","props","certainty","item","thumb","image","phState","fols","style","design","returnValue","setStyle","designed_as","secondStyle","setSecondStyle","physical_state","id","shelfmark","scaled_dates","date","absolute_places","place_absolute","no_of_folia","height","width","formatDimension","page_height_min","page_width_min","material_type","books_latin","additional_content_scaled","ManuscriptList","result","manuscripts","map","SearchFreetext","useState","textField","setTextField","help","setHelp","setTextFacet","add","facet","field","candidate","defaultValue","placeholder","onChange","e","currentTarget","value","onKeyUp","key","GeoNameFacet","data","setData","loading","setLoading","url","Base64","toBase64","JSON","stringify","search","a","fetch","response","json","useEffect","fetchData","refresh","buckets","index","doc_count","AbsolutePlaceFacet","more","setMore","filter","setFilter","type","name","DatelabelFacet","BookFacetItem","selected","setSelected","rangeSelected","setRangeSelected","from","to","chapters","bookLatin","min","max","size","stringValue","input","isNaN","Number","BookFacet","book","PageDimensionsFacet","facetValues","facetValue","amount","i","findIndex","element","PhysicalStateFacet","ScriptFacet","ManuscriptTypeFacet","LayoutFacet","TransmittedFacet","ProvenanceFacet","parentCallback","AuthorFacet","CurrentPlaceFacet","RegionFacet","IsiMap","org","isModernPlace","setModernPlace","lib","MapContainer","center","zoom","TileLayer","attribution","library","latitude","position","longitude","Marker","Popup","place_name","DummySliderFacet","AnnotationsFacet","DigitizedFacet","LargerCollectionFacet","ExcludeFullFacet","Search","searchBuffer","facetstate","geo","dateLabel","dimensions","filters","physicalState","script","manuscript","layout","transmitted","provenance","authors","currentplace","region","annotations","digitized","larger","exclude","searchvalues","page","page_length","sortorder","search_string","parse","fromBase64","Error","scroll","searchFT","setSearchFT","geoFacet","setGeoFacet","dateLabelFacet","setDatelabelFacet","bookFacet","setBookFacet","dimFacet","setDimFacet","physicalStateFacet","setPhysicalStatefacet","scriptFacet","setScriptFacet","manuscriptFacet","setManuscriptFacet","layoutFacet","setLayoutFacet","transmittedFacet","setTransmittedFacet","provenanceFacet","setProvenanceFacet","authorFacet","setAuthorFacet","currentPlaceFacet","setCurrentPlaceFacet","regionFacet","setRegionFacet","annotationFacet","setAnnotationFacet","digitizedFacet","setDigitizedfacet","largerFacet","setLargerfacet","excludeFacet","setExcludeFacet","setRefresh","searchData","setSearchData","facets","pages","setResult","sendCandidate","values","found","forEach","includes","push","goToPage","sd","parseInt","setPageLength","target","ref","document","createElement","click","openWindow","skipper","el","length","removeFacet","ManuscriptDetails","layout_items","content","img","additional_content","larger_unit","related_manuscripts","bibliography","digitized_at","folText","source_of_date","source_dating","pgType","page_number","indexOf","history","back","steinova","anspach","bischoff","cla","bischoff_cla_date","physical_state_scaled","books_included","details","locations","line","reason","intern","item_in","extern","index_ex","diagrams","innovations","additional_observations","url_other","Manuscript","manuscriptID","console","log","isFunctionComponent","val","getFirstReactComponent","pickReactComponents","state","config","configVal","undefined","error","singleResult","count","subResult","merger","Boolean","hostname","match","interpreter","screens","IsiMachine","Machine","initial","context","manuscript_id","on","detail","actions","assign","event","states","fourOhFour","interpret","gotoUrl","hash","substr","send","start","onhashchange","ReactDOM","render","curState","setState","cb","onTransition","off","view","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.b635230c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo-innovatingknowledge.c95fe7bf.png\";","// Development\n//export const SERVICE_SERVER = \"http://www.huc.localhost/isidore_service/\";\n//export const HOME = \"http://localhost:3000/\";\n\n// Production\nexport const SERVICE_SERVER = \"https://isidore.sd.di.huc.knaw.nl/isidore_service/\";\nexport const HOME = \"https://isidore.sd.di.huc.knaw.nl/\";\n","import React from \"react\";\nimport logo from \"../assets/img/logo-innovatingknowledge.png\";\nimport {HOME} from \"../misc/config\";\n\n\nexport default class Header extends React.Component {\n\n    goHome() {\n        window.location.href = HOME;\n    }\n\n    render() {\n        return (\n            <div className=\"hcContentContainer bgColorBrand1 hcMarginBottom5\">\n                <header className=\"hcPageHeaderSimple hcBasicSideMargin\">\n                    <div className=\"hcBrand\">\n                        <div className=\"hcBrandLogo\" onClick={() => {this.goHome()}}>\n                            <img src={logo} className=\"logo\" alt=\"Logo Soundtolls\"/>\n                        </div>\n\n                    </div>\n                </header>\n            </div>\n        )\n    }\n}","import React from \"react\";\n\nexport default class Footer extends React.Component {\n    render()  {\n        return (\n\n            <div className=\"hcContentContainer bgColorBrand1\">\n                <div className=\"hcMarginTop5 hcMarginBottom1\">\n                    <div className=\"hcBasicSideMargin\">\n\n                    </div>\n                </div>\n            </div>\n        )\n}\n}","import React from \"react\";\nimport {IResultManuscript} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\n\nexport default function ManuscriptResultItem(props: { item: IResultManuscript }) {\n    const width: number = 75;\n    let certainty: string = \"\";\n    if (props.item.certainty === 'no') {\n        certainty = \" (?)\";\n    }\n    const thumb:string = SERVICE_SERVER + \"img/thumbs/\" + props.item.image;\n\n    function setStyle(design: string): string\n    {\n        let returnValue: string = \"\";\n        switch (design)\n        {\n            case \"non-canonical Etymologiae\":\n                returnValue = \"hcNonCanDesign\";\n                break;\n            case \"excerpts\":\n                returnValue = \"hcExcDesign\";\n                break;\n            case \"canonical Etymologiae\":\n                returnValue = \"hcCanDesign\";\n                break;\n            case \"unknown\":\n                returnValue = \"hcUnknownDesign\";\n                break;\n            default:\n                returnValue = \"hcUnknownDesign\";\n                break;\n        }\n        return returnValue;\n    }\n\n    function setSecondStyle(design: string): string\n    {\n        let returnValue: string = \"\";\n        switch (design)\n        {\n            case \"destroyed\":\n                returnValue = \"psDestroyed\";\n                break;\n            case \"incomplete\":\n                returnValue = \"psIncomplete\";\n                break;\n            case \"marginalia\":\n                returnValue = \"psMarginalia\";\n                break;\n            case \"1 volume, destroyed\":\n                returnValue = \"psOneVolume\";\n                break;\n            case \"2 volumes\":\n                returnValue = \"psTwoVolumes\";\n                break;\n            case \"first volume\":\n                returnValue = \"psFirstVolume\";\n                break;\n            case \"addition in a blank space on a page\":\n                returnValue = \"psAddition\";\n                break;\n            case \"1 volume\":\n                returnValue = \"psOneVolume\";\n                break;\n            case \"second volume\":\n                returnValue = \"psSecondVolume\";\n                break;\n            case \"fragment, palimpsest\":\n                returnValue = \"psFragment\";\n                break;\n            case \"fragment\":\n                returnValue = \"psFragment\";\n                break;\n            case \"2 volumes, cropped\":\n                returnValue = \"psTwoVolumes\";\n                break;\n            case \"1 volume, cropped\":\n                returnValue = \"psOneVolume\";\n                break;\n            case \"second volume, destroyed\":\n                returnValue = \"psSecondVolume\";\n                break;\n            case \"unknown\":\n                returnValue = \"psUnknownDesign\";\n                break;\n            default:\n                returnValue = \"psUnknownDesign\";\n                break;\n        }\n        return returnValue;\n    }\n\n    function formatPhysicalState(phState: string) {\n        if (phState == \"addition in a blank space on a page\") {\n            return \"addition\";\n        } else {\n            return phState;\n        }\n    }\n\n    function formatFolia(fols: string) {\n        if (fols == null || fols === \"\") {\n            return \"\"\n        } else {\n            if (fols === \"1\") {\n                return fols + \" fol.\";\n            } else {\n                return fols + \" fols., \";\n            }\n        }\n    }\n\n    function formatDimension(height: string, width: string) {\n        if (height == null || height === \"\" || width == null || width === \"\") {\n            return \"\";\n        } else {\n            return height + \" x \" + width + \" mm\";\n        }\n    }\n\n    const style: string = setStyle(props.item.designed_as);\n    const secondStyle: string = setSecondStyle(props.item.physical_state);\n\n\n    return (\n        <div className=\"resItem\">\n            <div className=\"resultCell\">\n                <div className=\"thumb\"><img src={thumb} alt=\"Test\"/></div>\n                <div className=\"resultData\">\n                    <div className=\"resultShelfmark\" onClick={() => {\n                        //console.log(window.pageYOffset);\n                        window.location.href = \"#detail/\" + props.item.id; }}>\n                        {props.item.shelfmark}\n                    </div>\n                    <div className=\"resultDateLocation\">{props.item.scaled_dates[0].date}, {props.item.absolute_places[0].place_absolute}{certainty}</div>\n                    <div className=\"resultDateLocation\">{formatFolia(props.item.no_of_folia)} {formatDimension(props.item.page_height_min,props.item.page_width_min)}</div>\n                    <div className=\"resultDescription\">{props.item.material_type},  includes <i>Etym.</i> {props.item.books_latin}</div>\n                    <div className=\"resultDateLocation\">{props.item.additional_content_scaled}</div>\n                </div>\n                <div className={style}>{props.item.designed_as}</div>\n                <div className={secondStyle}>{formatPhysicalState(props.item.physical_state)}</div>\n            </div>\n        </div>\n    )\n}","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {IResultManuscript, IResultManuscriptList, ISearchObject} from \"../misc/interfaces\";\nimport ManuscriptResultItem from \"../elements/manuscriptResultItem\";\n\n\nexport default function ManuscriptList(props: {result: IResultManuscriptList}) {\n\n    return (\n        <div>{\n            props.result.manuscripts.map((item: IResultManuscript) => {\n              return  (<ManuscriptResultItem item={item}/>)})}</div>\n    )\n}","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {ISendCandidate, ISearchObject} from \"../misc/interfaces\";\n\n\nfunction SearchFreetext(props: { add: ISendCandidate }) {\n    const [textField, setTextField] = useState<string>(\"\");\n    const [help, setHelp] = useState(false);\n\n    function handleChange(e: React.FormEvent<HTMLInputElement>): void {\n        setTextField(e.currentTarget.value);\n    }\n\n    function handleKeyPress(e: React.KeyboardEvent<HTMLInputElement>): void {\n        if (e.key === 'Enter') {\n            setTextFacet();\n        }\n    }\n\n    function setTextFacet() {\n        if (textField !== \"\") {\n            props.add({facet: \"Free text\", field: \"FREE_TEXT\", candidate: textField});\n        }\n    }\n\n\n    return (\n        <div className=\"hcFacet\">\n            {!help && <span className=\"hcIconHelp\" onClick={() => setHelp(true)}><img\n                src=\"https://d33wubrfki0l68.cloudfront.net/85886ca3e2d8c36ba06d7773a094512272453181/545f8/images/icons/icon-huc-help.svg\"\n                alt=\"\"/></span>}\n            {help &&\n            <div className=\"hcFacetHelp\" onClick={() => setHelp(false)}>\n                <p><strong>Search</strong></p>\n                <p>A free text search of all of the data in the dataset</p>\n            </div>}\n            <div className=\"hcFacetTitle\">\n                Free text search\n            </div>\n            <div className=\"hcFacetItems\">\n                <input className=\"hcFacetSearch\" defaultValue={textField} placeholder=\"Type text to search\"\n                       onChange={handleChange}  onKeyUp={handleKeyPress}/>\n            </div>\n            <button className=\"ftSearchBtn\" onClick={setTextFacet}>Search</button>\n        </div>\n    );\n\n}\n\nexport default SearchFreetext;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISearchObject, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\n\nfunction GeoNameFacet(props: { add: ISendCandidate, search: ISearchObject, refresh: boolean }) {\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/nested_facet/absolute_places.country/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/normal\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [props.refresh]);\n\n\n    return (\n        <div className=\"hcFacet\">\n            { !help && <span className=\"hcIconHelp\" onClick={() => setHelp(true)}><img\n                src=\"https://d33wubrfki0l68.cloudfront.net/85886ca3e2d8c36ba06d7773a094512272453181/545f8/images/icons/icon-huc-help.svg\"\n                alt=\"\"/></span>}\n            {help &&\n            <div className=\"hcFacetHelp\" onClick={() => setHelp(false)}>\n                <p><strong>Place of origin</strong></p>\n                <p>Modern places of origin correspond to current states. Specific places correspond to the various medieval locations (e.g. Reims), areas (e.g. Bodensee area), or wider regions (e.g. northern France) identified in manuscript catalogues.</p>\n            </div>}\n            <div className=\"hcFacetTitle\">\n                Modern place\n            </div>\n            <div className=\"hcFacetItems\">\n                {!loading ? (<div>\n                    {data.buckets.map((item, index) => {\n                        return (<div key={index} className=\"hcFacetItem\" onClick={() => props.add({\n                            facet: \"Modern place\",\n                            field: \"absolute_places.country\",\n                            candidate: item.key\n                        })}>\n                            <div className=\"checkBoxLabel\"> {item.key}\n                                <div className=\"facetAmount\"> ({item.doc_count})</div>\n                            </div>\n                        </div>);\n                    })}\n                </div>) : (<div>Loading...</div>)}\n                <div>\n                </div>\n            </div>\n        </div>\n    );\n\n}\n\nexport default GeoNameFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISearchObject, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\nfunction AbsolutePlaceFacet(props: { add: ISendCandidate, search: ISearchObject, refresh: boolean }) {\n    let [more, setMore] = useState(true);\n    const [filter, setFilter] = useState(\"\");\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/nested_facet/absolute_places.place_absolute/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        if (more) {\n            url = SERVICE_SERVER + \"elastic/nested_facet/absolute_places.place_absolute/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short/\" + filter;\n        } else {\n            url = SERVICE_SERVER + \"elastic/nested_facet/absolute_places.place_absolute/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/long/\" + filter;\n        }\n\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n\n    function changeListLength() {\n        if (more) {\n            if (filter === \"\") {\n                url = SERVICE_SERVER + \"elastic/nested_facet/absolute_places.place_absolute/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short\";\n            } else {\n                url = SERVICE_SERVER + \"elastic/nested_facet/absolute_places.place_absolute/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short/\" + filter;\n            }\n            setMore(false);\n        } else {\n            if (filter === \"\") {\n                url = SERVICE_SERVER + \"elastic/initial_facet/absolute_places.place_absolute/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/long\";\n            } else {\n                url = SERVICE_SERVER + \"elastic/facet/absolute_places.place_absolute/long/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/\" + filter;\n            }\n            setMore(true);\n        }\n    }\n\n\n    function handleChange(e: React.FormEvent<HTMLInputElement>) {\n        setFilter(e.currentTarget.value);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [filter, more, props.refresh]);\n\n\n    return (\n        <div className=\"hcFacet\">\n            <div className=\"hcFacetTitle\">\n                Absolute place\n            </div>\n            {help &&\n            <div className=\"hcFacetHelp\">\n                <strong>Absolute place facet</strong><br/>\n                Type text and complete with ENTER.\n            </div>}\n            <div className=\"hcFacetFilter\"><input type=\"text\" name=\"\" onChange={handleChange}\n                                                  placeholder=\"Type to filter\"/></div>\n            {!loading ? (<div className=\"hcFacetItems\">\n                    {data.buckets.map((item) => {\n                        return (\n                            <div className=\"hcFacetItem\" onClick={() => props.add({\n                                facet: \"Absolute place\",\n                                field: \"absolute_places.place_absolute\",\n                                candidate: item.key\n                            })}>\n                                <div className=\"checkBoxItem\"> {item.key}\n                                    <div className=\"facetAmount\"> ({item.doc_count})</div>\n                                </div>\n                            </div>\n                        )\n                    })}\n                    <div className=\"hcClickable\" onClick={changeListLength}>\n                        {more ? (<div>More...</div>) : (<div>Less...</div>)}\n                    </div>\n                </div>) :\n                (<div className=\"hcFacetLoading\">Loading...</div>)}\n        </div>\n    );\n\n}\n\nexport default AbsolutePlaceFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISendCandidate, ISearchObject} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\n\nfunction DatelabelFacet(props: { add: ISendCandidate, search: ISearchObject, refresh: boolean }) {\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/nested_facet/scaled_dates.date/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/normal\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [props.refresh]);\n\n\n    return (\n        <div className=\"hcFacet\">\n            { !help && <span className=\"hcIconHelp\" onClick={() => setHelp(true)}><img\n            src=\"https://d33wubrfki0l68.cloudfront.net/85886ca3e2d8c36ba06d7773a094512272453181/545f8/images/icons/icon-huc-help.svg\"\n            alt=\"\"/></span>}\n            {help &&\n        <div className=\"hcFacetHelp\" onClick={() => setHelp(false)}>\n            <p><strong>Date of origin</strong></p>\n            <p>Choose a century from a list or adjust a segment of time on a slider.</p>\n        </div>}\n            <div className=\"hcFacetTitle\">\n                Date scaled\n\n            </div>\n\n            <div className=\"hcFacetItems\">\n                {!loading ? (<div>\n                    {data.buckets.map((item, index) => {\n                        return (<div key={index} className=\"hcFacetItem\" onClick={() => props.add({\n                            facet: \"Date scaled\",\n                            field: \"scaled_dates.date\",\n                            candidate: item.key\n                        })}>\n                            <div className=\"checkBoxLabel\"> {item.key}\n                                <div className=\"facetAmount\"> ({item.doc_count})</div>\n                            </div>\n                        </div>);\n                    })}\n                </div>) : (<div>Loading...</div>)}\n                <div>\n                </div>\n            </div>\n\n        </div>\n    );\n\n}\n\nexport default DatelabelFacet;","import React from \"react\";\nimport {useState} from \"react\";\nimport NumericInput from \"react-numeric-input\";\nimport {ISendCandidate} from \"../misc/interfaces\";\n\nfunction BookFacetItem(props: { add: ISendCandidate, book: number, bookLatin: string, chapters: number }) {\n    const [selected, setSelected] = useState(false);\n    const [rangeSelected, setRangeSelected] = useState(false);\n    let from = 1;\n    let to = props.chapters;\n\n    function handleChange() {\n        setSelected(!selected);\n    }\n\n    function handleRange() {\n        setRangeSelected(false);\n    }\n\n    function handleFrom(value: number | null, stringValue: string, input: HTMLInputElement) {\n        if (!isNaN(Number(stringValue))) {\n            from = Number(stringValue);\n            setRangeSelected(false);\n        } else {\n            setRangeSelected(true);\n        }\n    }\n\n    function handleTo(value: number | null, stringValue: string, input: HTMLInputElement) {\n        if (!isNaN(Number(stringValue))) {\n            to = Number(stringValue);\n            setRangeSelected(false);\n        } else {\n            setRangeSelected(true);\n        }\n    }\n\n    function saveFacet() {\n        props.add({\n            facet: \"Books\",\n            field: \"BOOK\",\n            candidate: props.bookLatin + \":\" + from as string + \"-\" + to as string\n        });\n        setRangeSelected(true);\n    }\n\n    return (\n        <div>\n            <form>\n                <div className=\"hcClickable\" onClick={() => handleChange()}><strong>book {props.bookLatin}</strong>\n                </div>\n                {selected ?\n                    (<div className=\"chapterRange\"><NumericInput className=\"numSelector\" min={1} max={props.chapters}\n                                                                 value={1} size={3}\n                                                                 onChange={handleFrom}/> - <NumericInput\n                        className=\"numSelector\" min={1} max={props.chapters} value={props.chapters} size={3}\n                        onChange={handleTo}/>\n                        {!rangeSelected ? (\n                            <button className=\"rangeSelectorBtn\" onClick={() => saveFacet()}>OK</button>) : (<div/>)}\n                    </div>) : (\n\n                        <div/>\n                    )}\n            </form>\n        </div>\n    );\n}\n\nexport default BookFacetItem;","import React from \"react\";\nimport BookFacetItem from \"../elements/bookFacetItem\";\nimport {ISendCandidate} from \"../misc/interfaces\";\nimport {useState} from \"react\";\n\nfunction BookFacet(props: {add: ISendCandidate}) {\n    const [help, setHelp] = useState(false);\n\n    return (\n        <div className=\"hcFacet\">\n            <div className=\"hcFacetItems\">\n                { !help && <span className=\"hcIconHelp\" onClick={() => setHelp(true)}><img\n                    src=\"https://d33wubrfki0l68.cloudfront.net/85886ca3e2d8c36ba06d7773a094512272453181/545f8/images/icons/icon-huc-help.svg\"\n                    alt=\"\"/></span>}\n                {help ? (<div className=\"hcFacetHelp\"  onClick={() => setHelp(false)}>\n                    <p><strong>Books </strong></p>\n                    <p>This facet allows the users to select manuscripts based on whether they currently contain material from a specific section of the <i>Etymologiae</i>. Users can select complete books by clicking on OK, but also individual book chapters and chapter ranges by adjusting the slider. A separate exclude full tab included in this facet allows one to remove all manuscripts designed as encyclopaedic copies of the <i>Etymologiae</i> (i.e., query only over manuscripts transmitting the text of the <i>Etymologiae</i> selectively).</p>\n                </div>) : (<div/>)}\n                <BookFacetItem add={props.add} book = {1}  bookLatin = \"I\" chapters= {44} />\n                <BookFacetItem add={props.add} book = {2}  bookLatin = \"II\" chapters= {31} />\n                <BookFacetItem add={props.add} book = {3}  bookLatin = \"III\" chapters= {71} />\n                <BookFacetItem add={props.add} book = {4}  bookLatin = \"IV\" chapters= {13} />\n                <BookFacetItem add={props.add} book = {5}  bookLatin = \"V\" chapters= {39} />\n                <BookFacetItem add={props.add} book = {6}  bookLatin = \"VI\" chapters= {19} />\n                <BookFacetItem add={props.add} book = {7}  bookLatin = \"VII\" chapters= {14} />\n                <BookFacetItem add={props.add} book = {8}  bookLatin = \"VIII\" chapters= {11} />\n                <BookFacetItem add={props.add} book = {9}  bookLatin = \"IX\" chapters= {7} />\n                <BookFacetItem add={props.add} book = {10}  bookLatin = \"X\" chapters= {282} />\n                <BookFacetItem add={props.add} book = {11}  bookLatin = \"XI\" chapters= {4} />\n                <BookFacetItem add={props.add} book = {12}  bookLatin = \"XII\" chapters= {8} />\n                <BookFacetItem add={props.add} book = {13}  bookLatin = \"XIII\" chapters= {22} />\n                <BookFacetItem add={props.add} book = {14}  bookLatin = \"XIV\" chapters= {9} />\n                <BookFacetItem add={props.add} book = {15}  bookLatin = \"XV\" chapters= {16} />\n                <BookFacetItem add={props.add} book = {16}  bookLatin = \"XVI\" chapters= {27} />\n                <BookFacetItem add={props.add} book = {17}  bookLatin = \"XVII\" chapters= {11} />\n                <BookFacetItem add={props.add} book = {18}  bookLatin = \"XVIII\" chapters= {69} />\n                <BookFacetItem add={props.add} book = {19}  bookLatin = \"XIX\" chapters= {34} />\n                <BookFacetItem add={props.add} book = {20}  bookLatin = \"XX\" chapters= {16} />\n                <div className=\"hcClickable\" onClick={() => props.add({facet: \"Books\", field: \"books_latin\", candidate: \"Unknown\"})}>\n                    <div className=\"checkBoxItem\"> <strong>Unknown</strong></div>\n                </div>\n            </div>\n        </div>\n    );\n\n}\n\nexport default BookFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISearchObject, ISendCandidate, ISortFacetValue} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\nfunction PageDimensionsFacet(props: {add: ISendCandidate, search: ISearchObject, refresh: boolean}) {\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/initial_facet/page_dimensions/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/normal\";\n    const [help, setHelp] = useState(false);\n    const facetValues: ISortFacetValue[] = [\n        {facetValue: \"< 300 mm\", amount: 0},\n        {facetValue: \"300-350 mm\", amount: 0},\n        {facetValue: \"351-400 mm\", amount: 0},\n        {facetValue: \"401-450 mm\", amount: 0},\n        {facetValue: \"451-500 mm\", amount: 0},\n        {facetValue: \"501-550 mm\", amount: 0},\n        {facetValue: \"551-600 mm\", amount: 0},\n        {facetValue: \"601-650 mm\", amount: 0},\n        {facetValue: \"> 651 mm\", amount: 0},\n        {facetValue: \"Unknown\", amount: 0}\n    ];\n\n    async function fetchData() {\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n    if (!loading) {\n        data.buckets.map((item) => {\n            let waarde = (element: ISortFacetValue) => element.facetValue === item.key;\n            let i: number = facetValues.findIndex(waarde);\n            facetValues[i].amount = item.doc_count;\n        })\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [props.refresh]);\n\n\n    return (\n        <div className=\"hcFacet\">\n            { !help && <span className=\"hcIconHelp\" onClick={() => setHelp(true)}><img\n                src=\"https://d33wubrfki0l68.cloudfront.net/85886ca3e2d8c36ba06d7773a094512272453181/545f8/images/icons/icon-huc-help.svg\"\n                alt=\"\"/></span>}\n            { help &&\n            <div className=\"hcFacetHelp\"  onClick={() => setHelp(false)}>\n                <p><strong>Page dimensions</strong></p>\n                <p>The page dimensions of manuscripts in the database are represented by a single value, the <i>taille</i> (page height + page width).</p> <p>Manuscripts are then assigned to several size categories. For example, a manuscript with a page of 325 x 210 mm, that is with a taille of 535 mm, would appear in this overview in the category of 500-550 mm.</p>\n                <p>In the case of manuscripts with pages of varying size, the values taken are minimum page height + minimum page width.</p>\n            </div> }\n            <div className=\"hcFacetItems\">\n                {!loading ? (<div>\n                    {facetValues.map((item, index) => {\n                        if (item.amount > 0) {\n                            return (<div key={index} className=\"hcFacetItem\" onClick={() => props.add({\n                                facet: \"Page dimensions\",\n                                field: \"page_dimensions\",\n                                candidate: item.facetValue\n                            })}>\n                                <div className=\"checkBoxLabel\"> {item.facetValue}\n                                    <div className=\"facetAmount\"> ({item.amount})</div>\n                                </div>\n                            </div>);\n                        }\n                    })}\n                </div>) : (<div>Loading...</div>)}\n                <div>\n                </div>\n            </div>\n            {/*<div className=\"hcClickable\" >\n                { true ? (<div>More...</div>) : (<div>Less...</div>)}\n            </div>*/}\n        </div>\n    );\n\n}\n\nexport default PageDimensionsFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISearchObject, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\nfunction PhysicalStateFacet(props: { add: ISendCandidate, search: ISearchObject, refresh: boolean }) {\n\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/initial_facet/physical_state/\" + Base64.toBase64(JSON.stringify(props.search)) + \"/normal\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [props.refresh]);\n\n    return (\n        <div className=\"hcFacet\">\n            {!help && <span className=\"hcIconHelp\" onClick={() => setHelp(true)}><img\n                src=\"https://d33wubrfki0l68.cloudfront.net/85886ca3e2d8c36ba06d7773a094512272453181/545f8/images/icons/icon-huc-help.svg\"\n                alt=\"\"/></span>}\n            {help &&\n            <div className=\"hcFacetHelp\" onClick={() => setHelp(false)}>\n                <p><strong>Physical state</strong></p>\n                <p>Refers to the current state of preservation (sometimes differing from the medieval design). Allows\n                    one to distinguish: <br/>a) fragments (including palimpsests), <br/>b) marginalia and\n                    additions; <br/>c) significantly cropped encyclopaedic copies; <br/>d) encyclopaedic copies in\n                    multiple volumes; and <br/>e) destroyed manuscripts.</p>\n            </div>}\n            <div className=\"hcFacetItems\">\n                {!loading ? (<div>\n                    {data.buckets.map((item, index) => {\n                        return (<div key={index} className=\"hcFacetItem\" onClick={() => props.add({\n                            facet: \"Physical state\",\n                            field: \"physical_state\",\n                            candidate: item.key\n                        })}>\n                            <div className=\"checkBoxLabel\"> {item.key}\n                                <div className=\"facetAmount\"> ({item.doc_count})</div>\n                            </div>\n                        </div>);\n                    })}\n                </div>) : (<div>Loading...</div>)}\n                <div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default PhysicalStateFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISearchObject, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\nfunction ScriptFacet(props: {add: ISendCandidate, search: ISearchObject, refresh: boolean}) {\n\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/initial_facet/script/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/normal\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [props.refresh]);\n\n    return (\n        <div className=\"hcFacet\">\n            { !help && <span className=\"hcIconHelp\" onClick={() => setHelp(true)}><img\n                src=\"https://d33wubrfki0l68.cloudfront.net/85886ca3e2d8c36ba06d7773a094512272453181/545f8/images/icons/icon-huc-help.svg\"\n                alt=\"\"/></span>}\n            {help &&\n            <div className=\"hcFacetHelp\" onClick={() => setHelp(false)}>\n                <p><strong>Script</strong></p>\n                <p>The main script of the manuscript as provided by the research literature.</p>\n            </div>}\n            <div className=\"hcFacetItems\">\n                {!loading ? (<div>\n                    {data.buckets.map((item, index) => {\n                        return (<div key={index} className=\"hcFacetItem\"  onClick={() => props.add({facet: \"Script\", field: \"script\", candidate: item.key})}><div className=\"checkBoxLabel\"> {item.key} <div className=\"facetAmount\">({item.doc_count})</div></div></div>);\n                    })}\n                </div>) : (<div>Loading...</div>)}\n                <div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default ScriptFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISearchObject, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\nfunction ManuscriptTypeFacet(props: {add: ISendCandidate, search: ISearchObject, refresh: boolean}) {\n\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/initial_facet/content_type/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/normal\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [props.refresh]);\n\n    return (\n        <div className=\"hcFacet\">\n            { !help && <span className=\"hcIconHelp\" onClick={() => setHelp(true)}><img\n                src=\"https://d33wubrfki0l68.cloudfront.net/85886ca3e2d8c36ba06d7773a094512272453181/545f8/images/icons/icon-huc-help.svg\"\n                alt=\"\"/></span>}\n            {help &&\n            <div className=\"hcFacetHelp\" onClick={() => setHelp(false)}>\n                <p><strong>Manuscript type</strong></p>\n                <p>Refers to the character of manuscripts transmitting the <i>Etymologiae</i>. Manuscripts transmitting only the <i>Etymologiae</i> are designated as <strong>Big Isidores</strong>. Other manuscripts are assigned to a category based on a notable thematic profile. Not all texts found in these manuscripts must fit this profile, but the majority does. Manuscripts that do not fit into any of the profiles are classified as <strong>miscellanies</strong>. In case the thematic design of a manuscript cannot be established due to its fragmentary preservation, it is labelled as <strong>unknown</strong>.</p>\n            </div>}\n            <div className=\"hcFacetItems\">\n                {!loading ? (<div>\n                    {data.buckets.map((item, index) => {\n                        return (<div key={index} className=\"hcFacetItem\" onClick={() => props.add({facet: \"Manuscript type\", field: \"content_type\", candidate: item.key})}><div className=\"checkBoxLabel\"> {item.key} <div className=\"facetAmount\">({item.doc_count})</div></div></div>);\n                    })}\n                </div>) : (<div>Loading...</div>)}\n                <div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default ManuscriptTypeFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISearchObject, ISendCandidate, ISortFacetValue} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\nfunction LayoutFacet(props: {add: ISendCandidate, search: ISearchObject, refresh: boolean }) {\n\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/initial_facet/layout/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/normal\";\n    const [help, setHelp] = useState(false);\n    const facetValues: ISortFacetValue[] = [\n        {facetValue: \"one column\", amount: 0},\n        {facetValue: \"two columns\", amount: 0},\n        {facetValue: \"three columns\", amount: 0},\n        {facetValue: \"four columns\", amount: 0},\n        {facetValue: \"unknown\", amount: 0}\n    ];\n\n    async function fetchData() {\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n    if (!loading) {\n        data.buckets.map((item) => {\n            let waarde = (element: ISortFacetValue) => element.facetValue === item.key;\n            let i: number = facetValues.findIndex(waarde);\n            facetValues[i].amount = item.doc_count;\n        })\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [props.refresh]);\n\n    return (\n        <div className=\"hcFacet\">\n            { !help && <span className=\"hcIconHelp\" onClick={() => setHelp(true)}><img\n                src=\"https://d33wubrfki0l68.cloudfront.net/85886ca3e2d8c36ba06d7773a094512272453181/545f8/images/icons/icon-huc-help.svg\"\n                alt=\"\"/></span>}\n            {help &&\n            <div className=\"hcFacetHelp\"  onClick={() => setHelp(false)}>\n                <p><strong>Layout</strong></p>\n                <p>The layout of the text in the writing window.</p>\n            </div>}\n            <div className=\"hcFacetItems\">\n                {!loading ? (<div>\n                    {facetValues.map((item, index) => {\n                        if (item.amount > 0) {\n                            return (<div key={index} className=\"hcFacetItem\" onClick={() => props.add({facet: \"Layout\", field: \"layout\", candidate: item.facetValue})}><div className=\"checkBoxLabel\"> {item.facetValue} <div className=\"facetAmount\">({item.amount})</div></div></div>);\n                        }\n                    })}\n                </div>) : (<div>Loading...</div>)}\n                <div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default LayoutFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISearchObject, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\nfunction TransmittedFacet(props: { add: ISendCandidate, search: ISearchObject, refresh: boolean }) {\n\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/nested_facet/material_types.material_type/\" + Base64.toBase64(JSON.stringify(props.search)) + \"/normal\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [props.refresh]);\n\n    return (\n        <div className=\"hcFacet\">\n            {!help && <span className=\"hcIconHelp\" onClick={() => setHelp(true)}><img\n                src=\"https://d33wubrfki0l68.cloudfront.net/85886ca3e2d8c36ba06d7773a094512272453181/545f8/images/icons/icon-huc-help.svg\"\n                alt=\"\"/></span>}\n            {help &&\n            <div className=\"hcFacetHelp\" onClick={() => setHelp(false)}>\n                <p><strong>Etym. transmitted as:</strong></p>\n                <p>Refers to the medieval design of the manuscripts (in contrast to the current state of preservation).\n                    Not all manuscripts included in the database transmit the text as it was structured by Braulio of\n                    Zaragoza (full). Many contain only excerpts from the entire work (single excerpt, multiple excerpts,\n                    excerpt sequence), a specific abridgement of or selection from the <i>Etymologiae</i> (epitome, book\n                    sequence), or a notable derivate of the encyclopaedia transmitted as novel textual compilations or\n                    self-standing text (excerpt collection, book, book section, book). The label 'not full' applies to\n                    fragments that cannot represent a remnant of an encyclopaedic copy of the <i>Etymologiae</i> but\n                    whose transmission format cannot be established more precisely.</p>\n            </div>}\n            <div className=\"hcFacetItems\">\n                {!loading ? (<div>\n                    {data.buckets.map((item, index) => {\n                        return (<div key={index} className=\"hcFacetItem\" onClick={() => props.add({\n                            facet: \"Etymology transmitted as\",\n                            field: \"material_types.material_type\",\n                            candidate: item.key\n                        })}>\n                            <div className=\"checkBoxLabel\"> {item.key}\n                                <div className=\"facetAmount\"> ({item.doc_count})</div>\n                            </div>\n                        </div>);\n                    })}\n                </div>) : (<div>Loading...</div>)}\n                <div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default TransmittedFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISearchObject, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\nfunction ProvenanceFacet(props: { parentCallback: ISendCandidate, search: ISearchObject, refresh: boolean }) {\n\n    let [more, setMore] = useState(true);\n    const [filter, setFilter] = useState(\"\");\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/nested_facet/provenances.provenance/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        if (more) {\n            url = SERVICE_SERVER + \"elastic/nested_facet/provenances.provenance/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short/\" + filter;\n        } else {\n            url = SERVICE_SERVER + \"elastic/nested_facet/provenances.provenance/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/long/\" + filter;\n        }\n\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n\n    function changeListLength() {\n        if (more) {\n            if (filter === \"\") {\n                url = SERVICE_SERVER + \"elastic/nested_facet/provenances.provenance/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short\";\n            } else {\n                url = SERVICE_SERVER + \"elastic/nested_facet/provenances.provenance/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short/\" + filter;\n            }\n            setMore(false);\n        } else {\n            if (filter === \"\") {\n                url = SERVICE_SERVER + \"elastic/nested_facet/provenances.provenance/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/long\";\n            } else {\n                url = SERVICE_SERVER + \"elastic/nested_facet/provenances.provenance/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/long/\" + filter;\n            }\n            setMore(true);\n        }\n    }\n\n\n    function handleChange(e: React.FormEvent<HTMLInputElement>) {\n        setFilter(e.currentTarget.value);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [filter, more, props.refresh]);\n\n    return (\n        <div className=\"hcFacet\">\n            { !help && <span className=\"hcIconHelp\" onClick={() => setHelp(true)}><img\n                src=\"https://d33wubrfki0l68.cloudfront.net/85886ca3e2d8c36ba06d7773a094512272453181/545f8/images/icons/icon-huc-help.svg\"\n                alt=\"\"/></span>}\n                {help ? (<div className=\"hcFacetHelp\" onClick={() => setHelp(false)}>\n                    <p><strong>Provenance</strong></p>\n                    <p>The locations, areas, regions, and manuscript owners associated with a manuscript in the centuries following its production.</p>\n                </div>) : (<div/>)}\n\n            <div className=\"hcFacetFilter\"><input type=\"text\" name=\"\" onChange={handleChange} id=\"shipMasterFilter\"\n                                                  placeholder=\"Type to filter\"/></div>\n            {!loading ? (<div className=\"hcFacetItems\">\n                    {data.buckets.map((item) => {\n                        return (\n                            <div className=\"hcFacetItem\" onClick={() => props.parentCallback({\n                                facet: \"Provenance\",\n                                field: \"provenances.provenance\",\n                                candidate: item.key\n                            })}>\n                                <div className=\"checkBoxItem\"> {item.key}\n                                    <div className=\"facetAmount\">({item.doc_count})</div>\n                                </div>\n                            </div>\n                        )\n                    })}\n\n\n                    <div className=\"hcClickable\" onClick={changeListLength}>\n                        {more ? (<div>More...</div>) : (<div>Less...</div>)}\n                    </div>\n                </div>) :\n                (<div className=\"hcFacetLoading\">Loading...</div>)}\n        </div>\n    );\n}\n\nexport default ProvenanceFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISearchObject} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {ISendCandidate} from \"../misc/interfaces\";\nimport {Base64} from \"js-base64\";\n\nfunction AuthorFacet(props: { parentCallback: ISendCandidate, search: ISearchObject, refresh: boolean  }) {\n\n    let [more, setMore] = useState(true);\n    const [filter, setFilter] = useState(\"\");\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/nested_facet/authors.author/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        if (more) {\n            url = SERVICE_SERVER + \"elastic/nested_facet/authors.author/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short/\" + filter;\n        } else {\n            url = SERVICE_SERVER + \"elastic/nested_facet/authors.author/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/long/\" + filter;\n        }\n\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n\n    function changeListLength() {\n        if (more) {\n            if (filter === \"\") {\n                url = SERVICE_SERVER + \"elastic/nested_facet/authors.author/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short\";\n            } else {\n                url = SERVICE_SERVER + \"elastic/nested_facet/authors.author/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short/\" + filter;\n            }\n            setMore(false);\n        } else {\n            if (filter === \"\") {\n                url = SERVICE_SERVER + \"elastic/initial_facet/authors.author/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/long\";\n            } else {\n                url = SERVICE_SERVER + \"elastic/facet/authors.author/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/long/\" + filter;\n            }\n            setMore(true);\n        }\n    }\n\n\n    function handleChange(e: React.FormEvent<HTMLInputElement>) {\n        setFilter(e.currentTarget.value);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [filter, more, props.refresh]);\n\n    return (\n        <div className=\"hcFacet\">\n            <div>\n                { !help && <span className=\"hcIconHelp\" onClick={() => setHelp(true)}><img\n                    src=\"https://d33wubrfki0l68.cloudfront.net/85886ca3e2d8c36ba06d7773a094512272453181/545f8/images/icons/icon-huc-help.svg\"\n                    alt=\"\"/></span>}\n                {help ? (<div className=\"hcFacetHelp\" onClick={() => setHelp(false)}>\n                    <p><strong>Author/text/types</strong></p>\n                    <p>This facet allows you to search for the works of known authors, anonymous texts, and short compositions on specific subjects that appear in the same manuscript as the <i>Etymologiae</i> (BUT it does not include systematically the texts interpolated into the <i>Etymologiae</i>  for these a separate facet may be established in the future).</p>\n                </div>) : (<div/>)}\n\n            </div>\n            <div className=\"hcFacetFilter\"><input type=\"text\" name=\"\" onChange={handleChange} id=\"shipMasterFilter\"\n                                                  placeholder=\"Type to filter\"/></div>\n            {!loading ? (<div className=\"hcFacetItems\">\n                    {data.buckets.map((item) => {\n                        return (\n                            <div className=\"hcFacetItem\" onClick={() => props.parentCallback({\n                                facet: \"Authors\",\n                                field: \"authors.author\",\n                                candidate: item.key\n                            })}>\n                                <div className=\"checkBoxItem\"> {item.key}\n                                    <div className=\"facetAmount\"> ({item.doc_count})</div>\n                                </div>\n                            </div>\n                        )\n                    })}\n\n\n                    <div className=\"hcClickable\" onClick={changeListLength}>\n                        {more ? (<div>More...</div>) : (<div>Less...</div>)}\n                    </div>\n                </div>) :\n                (<div className=\"hcFacetLoading\">Loading...</div>)}\n        </div>\n    );\n}\n\nexport default AuthorFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISearchObject, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\n\nfunction CurrentPlaceFacet(props: { add: ISendCandidate, search: ISearchObject, refresh: boolean }) {\n    let [more, setMore] = useState(true);\n    const [filter, setFilter] = useState(\"\");\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/nested_facet/current_places.place/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        if (more) {\n            url = SERVICE_SERVER + \"elastic/nested_facet/current_places.place/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short/\" + filter;\n        } else {\n            url = SERVICE_SERVER + \"elastic/nested_facet/current_places.place/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/long/\" + filter;\n        }\n\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n\n    function changeListLength() {\n        if (more) {\n            if (filter === \"\") {\n                url = SERVICE_SERVER + \"elastic/nested_facet/current_places.place/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short\";\n            } else {\n                url = SERVICE_SERVER + \"elastic/nested_facet/autcurrent_placeshors.place/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/short/\" + filter;\n            }\n            setMore(false);\n        } else {\n            if (filter === \"\") {\n                url = SERVICE_SERVER + \"elastic/initial_facet/current_places.place/long\";\n            } else {\n                url = SERVICE_SERVER + \"elastic/facet/current_places.place/long/\" + filter;\n            }\n            setMore(true);\n        }\n    }\n\n\n    function handleChange(e: React.FormEvent<HTMLInputElement>) {\n        setFilter(e.currentTarget.value);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [filter, more, props.refresh]);\n\n\n    return (\n        <div className=\"hcFacet\">\n            { !help && <span className=\"hcIconHelp\" onClick={() => setHelp(true)}><img\n                src=\"https://d33wubrfki0l68.cloudfront.net/85886ca3e2d8c36ba06d7773a094512272453181/545f8/images/icons/icon-huc-help.svg\"\n                alt=\"\"/></span>}\n                {help ? (<div className=\"hcFacetHelp\"  onClick={() => setHelp(false)}>\n                    <p><strong>Current place</strong></p>\n                    <p>The city of the current preservation of a manuscript</p>\n                </div>) : (<div/>)}\n\n            <div className=\"hcFacetFilter\"><input type=\"text\" name=\"\" onChange={handleChange} id=\"shipMasterFilter\"\n                                                  placeholder=\"Type to filter\"/></div>\n            {!loading ? (<div className=\"hcFacetItems\">\n                    {data.buckets.map((item) => {\n                        return (\n                            <div className=\"hcFacetItem\" onClick={() => props.add({\n                                facet: \"Current places\",\n                                field: \"current_places.place\",\n                                candidate: item.key\n                            })}>\n                                <div className=\"checkBoxItem\"> {item.key}\n                                    <div className=\"facetAmount\">({item.doc_count})</div>\n                                </div>\n                            </div>\n                        )\n                    })}\n\n\n                    <div className=\"hcClickable\" onClick={changeListLength}>\n                        {more ? (<div>More...</div>) : (<div>Less...</div>)}\n                    </div>\n                </div>) :\n                (<div className=\"hcFacetLoading\">Loading...</div>)}\n        </div>\n    );\n\n}\n\nexport default CurrentPlaceFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, IRemoveFacet, ISearchObject, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\nfunction RegionFacet(props: {add: ISendCandidate, search: ISearchObject, refresh: boolean }) {\n\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/nested_facet/scaled_places.place/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/normal\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n\n    useEffect(() => {\n        fetchData();\n    }, [props.refresh]);\n\n    return (\n        <div className=\"hcFacet\">\n            { !help && <span className=\"hcIconHelp\" onClick={() => setHelp(true)}><img\n                src=\"https://d33wubrfki0l68.cloudfront.net/85886ca3e2d8c36ba06d7773a094512272453181/545f8/images/icons/icon-huc-help.svg\"\n                alt=\"\"/></span>}\n            {help &&\n            <div className=\"hcFacetHelp\">\n                <strong>Script</strong><br/>\n                Select one or more states.\n            </div>}\n            <div className=\"hcFacetItems\">\n                {!loading ? (<div>\n                    {data.buckets.map((item, index) => {\n                        return (<div key={index} className=\"hcFacetItem\" onClick={() => props.add({facet: \"Region of origin\", field: \"scaled_places.place\", candidate: item.key})}><div className=\"checkBoxLabel\"> {item.key} <div className=\"facetAmount\">({item.doc_count})</div></div></div>);\n                    })}\n                </div>) : (<div>Loading...</div>)}\n                <div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default RegionFacet;","import React from \"react\";\nimport {MapContainer, Marker, Popup, TileLayer} from \"react-leaflet\";\nimport MarkerClusterGroup from 'react-leaflet-markercluster';\nimport {LatLngTuple} from \"leaflet\";\nimport {IResultManuscript, IResultManuscriptList} from \"../misc/interfaces\";\nimport {useState, useEffect} from \"react\";\n\nfunction IsiMap(props: { result: IResultManuscriptList }) {\n    const [isModernPlace, setModernPlace] = useState(false);\n\n    let org, lib = '';\n    if (isModernPlace) {\n        lib = \"activeSwitchBtn\";\n        org = \"switchBtn\";\n    } else {\n        lib = \"switchBtn\";\n        org = \"activeSwitchBtn\";\n    }\n    return (\n        <div className=\"resultMap\">\n            <MapContainer center={[47.816387, 6.381389]} zoom={4}>\n                <TileLayer\n                    url=\"https://d.tile.openstreetmap.de/{z}/{x}/{y}.png\"\n                    attribution=\"&copy; <a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors\"\n                />\n                {isModernPlace ? (\n                    <MarkerClusterGroup>\n                        {props.result.manuscripts.map((item: IResultManuscript) => {\n                            if (item.library[0].latitude != 0 && !isNaN(item.library[0].latitude)) {\n                                let position: LatLngTuple = [item.library[0].latitude, item.library[0].longitude];\n                                return (<Marker position={position}>\n                                    <Popup><span>{item.library[0].place_name}<br/></span><span className=\"hcClickable\"\n                                                                                               onClick={() => {\n                                                                                                   window.location.href = \"#detail/\" + item.id;\n                                                                                               }}>\n                            Go to manuscript\n                      </span></Popup>\n                                </Marker>)\n                            }\n                        })}\n                    </MarkerClusterGroup>\n                ) : (\n                    <MarkerClusterGroup>\n                        {props.result.manuscripts.map((item: IResultManuscript) => {\n                            if (item.absolute_places[0].latitude != 0 && !isNaN(item.absolute_places[0].latitude)) {\n                                let position: LatLngTuple = [item.absolute_places[0].latitude, item.absolute_places[0].longitude];\n                                return (<Marker position={position}>\n                                    <Popup><span>{item.absolute_places[0].place_absolute}<br/></span><span\n                                        className=\"hcClickable\" onClick={() => {\n                                        window.location.href = \"#detail/\" + item.id;\n                                    }}>\n                            Go to manuscript\n                      </span></Popup>\n                                </Marker>)\n                            }\n                        })}\n                    </MarkerClusterGroup>\n                )}\n\n\n            </MapContainer>\n            <div className=\"mapSwitch\">\n                <div className={org} onClick={() => {\n                    setModernPlace(false)\n                }}>Place of origin\n                </div>\n                <div className={lib} onClick={() => {\n                    setModernPlace(true)\n                }}>Current location\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default IsiMap;\n\n","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport slider from \"../assets/img/slider.png\";\n\n\n\nfunction DummySliderFacet() {\n    const [help, setHelp] = useState(false);\n\n\n\n    return (\n        <div className=\"hcFacet\">\n            <div className=\"hcFacetTitle\">\n                Date numerical\n            </div>\n            { help &&\n            <div className=\"hcFacetHelp\">\n                <strong>Free text facet</strong><br/>\n                Type text and complete with ENTER.\n            </div> }\n            <div className=\"hcFacetItems\">\n                <img className=\"sliderImg\" src={slider}/>\n            </div>\n            (This facet isn't active yet.)\n            {/*<div className=\"hcClickable\" >\n                { true ? (<div>More...</div>) : (<div>Less...</div>)}\n            </div>*/}\n        </div>\n    );\n\n}\n\nexport default DummySliderFacet;","export default \"data:image/png;base64,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bnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiBleGlmOlBpeGVsWERpbWVuc2lvbj0iNDkyIiBleGlmOlBpeGVsWURpbWVuc2lvbj0iMTAyIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMC0wOS0yN1QxNToyMzo0NyswMjowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjAtMDktMjdUMTU6MzI6MDIrMDI6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMDktMjdUMTU6MzI6MDIrMDI6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0iRGlzcGxheSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpkZjU1YzVhMi1lMTUyLTQ4ZTctOTFlNC0xYzE4ZmUxZjY2MmUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6YTRlMjZjMGUtZTVhNS00NzViLWEyODktNTdjNmU5NTRhNWYyIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YTRlMjZjMGUtZTVhNS00NzViLWEyODktNTdjNmU5NTRhNWYyIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YTRlMjZjMGUtZTVhNS00NzViLWEyODktNTdjNmU5NTRhNWYyIiBzdEV2dDp3aGVuPSIyMDIwLTA5LTI3VDE1OjMwOjI1KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8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\"","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISearchObject, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\nfunction AnnotationsFacet(props: {add: ISendCandidate, search: ISearchObject, refresh: boolean}) {\n\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/initial_facet/annotations/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/normal\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [props.refresh]);\n\n    return (\n        <div className=\"hcFacet\">\n            { !help && <span className=\"hcIconHelp\" onClick={() => setHelp(true)}><img\n                src=\"https://d33wubrfki0l68.cloudfront.net/85886ca3e2d8c36ba06d7773a094512272453181/545f8/images/icons/icon-huc-help.svg\"\n                alt=\"\"/></span>}\n            {help &&\n            <div className=\"hcFacetHelp\" onClick={() => setHelp(false)}>\n                <p><strong>Annotations</strong></p>\n                <p>Does the manuscript contain annotations?</p>\n            </div>}\n            <div className=\"hcFacetItems\">\n                {!loading ? (<div>\n                    {data.buckets.map((item, index) => {\n                        return (<div key={index} className=\"hcFacetItem\"  onClick={() => props.add({facet: \"Annotations\", field: \"annotations\", candidate: item.key})}><div className=\"checkBoxLabel\"> {item.key} <div className=\"facetAmount\">({item.doc_count})</div></div></div>);\n                    })}\n                </div>) : (<div>Loading...</div>)}\n                <div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default AnnotationsFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISearchObject, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\nfunction DigitizedFacet(props: {add: ISendCandidate, search: ISearchObject, refresh: boolean}) {\n\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/initial_facet/digitized/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/normal\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [props.refresh]);\n\n    return (\n        <div className=\"hcFacet\">\n            { !help && <span className=\"hcIconHelp\" onClick={() => setHelp(true)}><img\n                src=\"https://d33wubrfki0l68.cloudfront.net/85886ca3e2d8c36ba06d7773a094512272453181/545f8/images/icons/icon-huc-help.svg\"\n                alt=\"\"/></span>}\n            {help &&\n            <div className=\"hcFacetHelp\" onClick={() => setHelp(false)}>\n                <p><strong>Digitized</strong></p>\n                <p>Is the manuscript digitized?</p>\n            </div>}\n            <div className=\"hcFacetItems\">\n                {!loading ? (<div>\n                    {data.buckets.map((item, index) => {\n                        return (<div key={index} className=\"hcFacetItem\"  onClick={() => props.add({facet: \"Digitized\", field: \"digitized\", candidate: item.key})}><div className=\"checkBoxLabel\"> {item.key} <div className=\"facetAmount\">({item.doc_count})</div></div></div>);\n                    })}\n                </div>) : (<div>Loading...</div>)}\n                <div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default DigitizedFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISearchObject, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\nfunction LargerCollectionFacet(props: {add: ISendCandidate, search: ISearchObject, refresh: boolean}) {\n\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/initial_facet/part/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/normal\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [props.refresh]);\n\n    return (\n        <div className=\"hcFacet\">\n            { !help && <span className=\"hcIconHelp\" onClick={() => setHelp(true)}><img\n                src=\"https://d33wubrfki0l68.cloudfront.net/85886ca3e2d8c36ba06d7773a094512272453181/545f8/images/icons/icon-huc-help.svg\"\n                alt=\"\"/></span>}\n            {help &&\n            <div className=\"hcFacetHelp\" onClick={() => setHelp(false)}>\n                <p><strong>Part larger collection</strong></p>\n                <p>Is the manuscript part of a larger collection?</p>\n            </div>}\n            <div className=\"hcFacetItems\">\n                {!loading ? (<div>\n                    {data.buckets.map((item, index) => {\n                        return (<div key={index} className=\"hcFacetItem\"  onClick={() => props.add({facet: \"Part larger collection\", field: \"part\", candidate: item.key})}><div className=\"checkBoxLabel\"> {item.key} <div className=\"facetAmount\">({item.doc_count})</div></div></div>);\n                    })}\n                </div>) : (<div>Loading...</div>)}\n                <div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default LargerCollectionFacet;","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport {facetList, ISearchObject, ISendCandidate} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\n\nfunction ExcludeFullFacet(props: {add: ISendCandidate, search: ISearchObject, refresh: boolean}) {\n\n    const [data, setData] = useState<facetList>({\"buckets\": []});\n    const [loading, setLoading] = useState(true);\n    let url: string = SERVICE_SERVER + \"elastic/initial_facet/excluded/\"  + Base64.toBase64(JSON.stringify(props.search)) + \"/normal\";\n    const [help, setHelp] = useState(false);\n\n    async function fetchData() {\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [props.refresh]);\n\n    return (\n        <div className=\"hcFacet\">\n            { !help && <span className=\"hcIconHelp\" onClick={() => setHelp(true)}><img\n                src=\"https://d33wubrfki0l68.cloudfront.net/85886ca3e2d8c36ba06d7773a094512272453181/545f8/images/icons/icon-huc-help.svg\"\n                alt=\"\"/></span>}\n            {help &&\n            <div className=\"hcFacetHelp\" onClick={() => setHelp(false)}>\n                <p><strong>Exclude full Etymologiae</strong></p>\n                <p>Exclude full Etymologiae?</p>\n            </div>}\n            <div className=\"hcFacetItems\">\n                {!loading ? (<div>\n                    {data.buckets.map((item, index) => {\n                        return (<div key={index} className=\"hcFacetItem\"  onClick={() => props.add({facet: \"Exclude full Etymologiae\", field: \"excluded\", candidate: item.key})}><div className=\"checkBoxLabel\"> {item.key} <div className=\"facetAmount\">({item.doc_count})</div></div></div>);\n                    })}\n                </div>) : (<div>Loading...</div>)}\n                <div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default ExcludeFullFacet;","import React, {useEffect} from \"react\";\nimport Header from \"../page/header\";\nimport Footer from \"../page/footer\";\nimport ManuscriptList from \"./manuscriptList\";\nimport {useState} from \"react\";\nimport SearchFreeText from \"../facets/searchFreeText\";\nimport GeoNameFacet from \"../facets/geoNameFacet\";\nimport AbsolutePlaceFacet from \"../facets/absolutePlaceFacet\";\nimport DatelabelFacet from \"../facets/dateLabelFacet\";\nimport DatePeriodFacet from \"../facets/dataPeriodFacet\";\nimport FiltersFacet from \"../facets/filtersFacet\";\nimport BookFacet from \"../facets/bookFacet\";\nimport PageDimensionsFacet from \"../facets/pageDimensions\";\nimport PhysicalStateFacet from \"../facets/physicalStateFacet\";\nimport ScriptFacet from \"../facets/scriptFacet\";\nimport ManuscriptTypeFacet from \"../facets/manuscriptType\";\nimport LayoutFacet from \"../facets/layoutFacet\";\nimport TransmittedFacet from \"../facets/transmittedFacet\";\nimport ProvenanceFacet from \"../facets/provenanceFacet\";\nimport AuthorFacet from \"../facets/authorFacet\";\nimport CurrentPlaceFacet from \"../facets/currentPlaceFacet\";\nimport RegionFacet from \"../facets/regionFacet\";\nimport {\n    IResultManuscriptList,\n    ISearchObject,\n    ISendCandidate,\n    IFacetCandidate,\n    ISearchValues,\n    IRemoveFacet,\n    IResetFacets\n} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\nimport {Base64} from \"js-base64\";\nimport IsiMap from \"../elements/map\";\nimport DummySliderFacet from \"../facets/dummySliderfacet\";\nimport AnnotationsFacet from \"../facets/annotationsFacet\";\nimport DigitizedFacet from \"../facets/digitizedFacet\";\nimport LargerCollectionFacet from \"../facets/largerCollectionFacet\";\nimport ExcludeFullFacet from \"../facets/excludeFullFacet\";\n\n\nexport default function Search(props: { search_string: string }) {\n    let searchBuffer: ISearchObject = {\n        facetstate: {\n            search: true,\n            geo: false,\n            dateLabel: false,\n            book: false,\n            dimensions: false,\n            filters: false,\n            physicalState: false,\n            script: false,\n            manuscript: false,\n            layout: false,\n            transmitted: false,\n            provenance: false,\n            authors: false,\n            currentplace: false,\n            region: false,\n            annotations: false,\n            digitized: false,\n            larger: false,\n            exclude: false\n        },\n        searchvalues: \"none\",\n        page: 1,\n        page_length: 20,\n        sortorder: \"\"\n    };\n\n    if (props.search_string !== \"none\") {\n        try {\n            searchBuffer = JSON.parse(Base64.fromBase64(props.search_string)) as ISearchObject;\n        } catch (Error) {\n            window.scroll(0, 0);\n            window.location.href = \"/\";\n        }\n\n    }\n\n    const [searchFT, setSearchFT] = useState(searchBuffer.facetstate.search);\n    const [geoFacet, setGeoFacet] = useState(searchBuffer.facetstate.geo);\n    const [dateLabelFacet, setDatelabelFacet] = useState(searchBuffer.facetstate.dateLabel);\n    const [bookFacet, setBookFacet] = useState(searchBuffer.facetstate.book);\n    const [dimFacet, setDimFacet] = useState(searchBuffer.facetstate.dimensions);\n    const [filterFacet, setFilterFacet] = useState(searchBuffer.facetstate.filters);\n    const [physicalStateFacet, setPhysicalStatefacet] = useState(searchBuffer.facetstate.physicalState);\n    const [scriptFacet, setScriptFacet] = useState(searchBuffer.facetstate.script);\n    const [manuscriptFacet, setManuscriptFacet] = useState(searchBuffer.facetstate.manuscript);\n    const [layoutFacet, setLayoutFacet] = useState(searchBuffer.facetstate.layout);\n    const [transmittedFacet, setTransmittedFacet] = useState(searchBuffer.facetstate.transmitted);\n    const [provenanceFacet, setProvenanceFacet] = useState(searchBuffer.facetstate.provenance);\n    const [authorFacet, setAuthorFacet] = useState(searchBuffer.facetstate.authors);\n    const [currentPlaceFacet, setCurrentPlaceFacet] = useState(searchBuffer.facetstate.currentplace);\n    const [regionFacet, setRegionFacet] = useState(searchBuffer.facetstate.region);\n    const [annotationFacet, setAnnotationFacet] = useState(searchBuffer.facetstate.annotations);\n    const [digitizedFacet, setDigitizedfacet] = useState(searchBuffer.facetstate.digitized);\n    const [largerFacet, setLargerfacet] = useState(searchBuffer.facetstate.larger);\n    const [excludeFacet, setExcludeFacet] = useState(searchBuffer.facetstate.exclude);\n    const [refresh, setRefresh] = useState(false);\n    const [searchData, setSearchData] = useState<ISearchObject>(searchBuffer);\n\n\n    const cross: string = \"[x]\";\n    let facets: ISearchValues[] = [];\n    if (typeof searchBuffer.searchvalues === \"object\") {\n        facets = searchBuffer.searchvalues as ISearchValues[];\n    }\n\n    const [loading, setLoading] = useState(true);\n    const [result, setResult] = useState<IResultManuscriptList>({amount: 0, pages: 0, manuscripts: []});\n\n    async function fetchData() {\n        const url = SERVICE_SERVER + \"search/\" + Base64.toBase64(JSON.stringify(searchData));\n        const response = await fetch(url);\n        const json: IResultManuscriptList = await response.json();\n        setResult(json);\n        setLoading(false);\n    }\n\n    const removeFacet: IRemoveFacet = (field: string, value: string) => {\n        let searchBuffer: ISearchObject = searchData;\n        if (typeof searchBuffer.searchvalues === \"object\") {\n            searchBuffer.searchvalues.forEach((item: ISearchValues) => {\n                if (item.name === field) {\n                    item.values = item.values.filter((element => element !== value));\n                }\n            })\n            searchBuffer.searchvalues = searchBuffer.searchvalues.filter(function (el) {\n                return el.values.length > 0\n            });\n            if (searchBuffer.searchvalues.length === 0) {\n                searchBuffer.searchvalues = \"none\";\n            }\n        }\n        setSearchData(searchBuffer);\n        window.location.href = \"#search/\" + Base64.toBase64(JSON.stringify(searchData));\n        setRefresh(!refresh);\n    }\n\n    function openWindow(ref: string) {\n        let a = document.createElement('a');\n        a.target = '_blank';\n        a.href = ref;\n        a.click();\n    }\n\n    const resetFacets: IResetFacets = () => {\n        let searchBuffer: ISearchObject = searchData;\n        searchBuffer.page = 1;\n        searchBuffer.searchvalues = \"none\";\n        setSearchData(searchBuffer);\n        window.location.href = \"#search/\" + Base64.toBase64(JSON.stringify(searchData));\n        setRefresh(!refresh);\n    }\n\n\n    const sendCandidate: ISendCandidate = (candidate: IFacetCandidate) => {\n        let searchBuffer: ISearchObject = searchData;\n        if (searchData.searchvalues === \"none\") {\n            searchBuffer.searchvalues = [{\n                name: candidate.facet,\n                field: candidate.field,\n                values: [candidate.candidate]\n            } as ISearchValues];\n            setSearchData(searchData);\n            window.location.href = \"#search/\" + Base64.toBase64(JSON.stringify(searchData));\n            setRefresh(!refresh);\n        } else {\n            if (typeof searchBuffer.searchvalues === \"object\") {\n                let found: boolean = false;\n                searchBuffer.searchvalues.forEach((item) => {\n                    if (item.name === candidate.facet) {\n                        found = true;\n                        if (!item.values.includes(candidate.candidate)) {\n                            item.values.push(candidate.candidate);\n                        }\n                    }\n                });\n                if (!found) {\n                    searchBuffer.searchvalues.push({\n                        name: candidate.facet,\n                        field: candidate.field,\n                        values: [candidate.candidate]\n                    });\n                }\n            }\n            searchBuffer.page = 1;\n            setSearchData(searchData);\n            window.location.href = \"#search/\" + Base64.toBase64(JSON.stringify(searchData));\n            setRefresh(!refresh);\n            window.scroll(0, 0);\n        }\n    }\n\n\n    function setPageLength(amount: string) {\n        let sd = searchData;\n        sd.page = 1;\n        sd.page_length = parseInt(amount);\n        setSearchData(sd);\n        window.location.href = \"#search/\" + Base64.toBase64(JSON.stringify(searchData));\n        setRefresh(!refresh);\n    }\n\n    function nextPage() {\n        goToPage(searchData.page + 1);\n    }\n\n    function prevPage() {\n        if (searchData.page > 0) {\n            goToPage(searchData.page - 1);\n        }\n\n    }\n\n    function goToPage(page: number) {\n        let sd = searchData;\n        sd.page = page;\n        setSearchData(sd);\n        window.location.href = \"#search/\" + Base64.toBase64(JSON.stringify(searchData));\n        setRefresh(!refresh);\n        window.scroll(0, 0);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [refresh]);\n\n    return (\n        <div>\n            <Header/>\n            <div className=\"hcContentContainer hcMarginBottom5\">\n                <div className=\"hcBasicSideMargin hcMarginTop1 hcMarginBottom5\">\n                    <h2>Search manuscripts</h2>\n                    <div className=\"hcLayoutFacet-Result hcBasicSideMargin hcMarginBottom15\">\n                        <div className=\"hcLayoutFacets\">\n                            <button type=\"button\" name=\"button\" id=\"showFacets\" className=\"hcfixedSideButton\"><img\n                                src=\"https://d33wubrfki0l68.cloudfront.net/191a405740a4ade92836ba6eea6a6ceaa798bf2f/a4d8b/images/icons/icon-set-facets.svg\"\n                                className=\"icon\" alt=\"Facet button\"/></button>\n                            <div className=\"hcFacetSubDivision\"\n                                 onClick={() => setSearchFT(!searchFT)}>\n                                {searchFT ? (<span className=\"hcFacetGroup\">&#9660; search</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; search</span>\n                                )}\n                            </div>\n                            {searchFT ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <SearchFreeText add={sendCandidate}/>\n                                </div>) : (<div/>)}\n\n                            <div className=\"hcFacetSubDivision\" onClick={() => {\n                                setCurrentPlaceFacet(!currentPlaceFacet);\n                            }}>\n                                {currentPlaceFacet ? (<span className=\"hcFacetGroup\">&#9660; current place</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; current place</span>)}\n                            </div>\n                            {currentPlaceFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <CurrentPlaceFacet add={sendCandidate} search={searchData} refresh={refresh}/>\n                                </div>) : (<div/>)}\n                            <div className=\"hcFacetSubDivision\"\n                                 onClick={() => setDatelabelFacet(!dateLabelFacet)}>\n                                {dateLabelFacet ? (<span className=\"hcFacetGroup\">&#9660; date of origin</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; date of origin</span>)}\n                            </div>\n                            {dateLabelFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <DatelabelFacet add={sendCandidate} search={searchData} refresh={refresh}/>\n                                    <DummySliderFacet/>\n                                </div>) : (<div/>)}\n\n                            <div className=\"hcFacetSubDivision\"\n                                 onClick={() => setGeoFacet(!geoFacet)}>\n                                {geoFacet ? (<span className=\"hcFacetGroup\">&#9660; place of origin</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; place of origin</span>)}\n                            </div>\n                            {geoFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <GeoNameFacet add={sendCandidate} search={searchData} refresh={refresh}/>\n                                    <AbsolutePlaceFacet add={sendCandidate} search={searchData} refresh={refresh}/>\n                                </div>) : (<div/>)}\n\n                            <div className=\"hcFacetSubDivision\" id=\"shipmasterFacetsTitle\" onClick={() => {\n                                setRegionFacet(!regionFacet);\n                            }}>\n                                {regionFacet ? (<span className=\"hcFacetGroup\">&#9660; region of origin</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; region of origin</span>)}\n                            </div>\n                            {regionFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <RegionFacet add={sendCandidate} search={searchData} refresh={refresh}/>\n                                </div>) : (<div/>)}\n\n                            <div className=\"hcFacetSubDivision\" id=\"shipmasterFacetsTitle\" onClick={() => {\n                                setProvenanceFacet(!provenanceFacet);\n                            }}>\n                                {provenanceFacet ? (<span className=\"hcFacetGroup\">&#9660; provenance</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; provenance</span>)}\n                            </div>\n                            {provenanceFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <ProvenanceFacet parentCallback={sendCandidate} search={searchData}\n                                                     refresh={refresh}/>\n                                </div>) : (<div/>)}\n\n                            <div className=\"hcFacetSubDivision\" id=\"shipmasterFacetsTitle\"\n                                 onClick={() => setDimFacet(!dimFacet)}>\n                                {dimFacet ? (<span className=\"hcFacetGroup\">&#9660; page dimensions</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; page dimensions</span>)}\n                            </div>\n                            {dimFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <PageDimensionsFacet add={sendCandidate} search={searchData} refresh={refresh}/>\n                                </div>) : (<div/>)}\n\n                            <div className=\"hcFacetSubDivision\" id=\"shipmasterFacetsTitle\" onClick={() => {\n                                setLayoutFacet(!layoutFacet);\n                            }}>\n                                {layoutFacet ? (<span className=\"hcFacetGroup\">&#9660; layout</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; layout</span>)}\n                            </div>\n                            {layoutFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <LayoutFacet add={sendCandidate} search={searchData} refresh={refresh}/>\n                                </div>) : (<div/>)}\n\n                            <div className=\"hcFacetSubDivision\" id=\"shipmasterFacetsTitle\" onClick={() => {\n                                setPhysicalStatefacet(!physicalStateFacet);\n                            }}>\n                                {physicalStateFacet ? (<span className=\"hcFacetGroup\">&#9660; physical state</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; physical state</span>)}\n                            </div>\n                            {physicalStateFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <PhysicalStateFacet add={sendCandidate} search={searchData} refresh={refresh}/>\n                                </div>) : (<div/>)}\n\n\n                            <div className=\"hcFacetSubDivision\" id=\"shipmasterFacetsTitle\" onClick={() => {\n                                setTransmittedFacet(!transmittedFacet);\n                            }}>\n                                {transmittedFacet ? (\n                                    <span className=\"hcFacetGroup\">&#9660; etym. transmitted as</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; etym. transmitted as</span>)}\n                            </div>\n                            {transmittedFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <TransmittedFacet add={sendCandidate} search={searchData} refresh={refresh}/>\n                                </div>) : (<div/>)}\n                            <div className=\"hcFacetSubDivision\" id=\"shipmasterFacetsTitle\" onClick={() => {\n                                setBookFacet(!bookFacet)\n                            }}>\n                                {bookFacet ? (<span className=\"hcFacetGroup\">&#9660; books</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; books</span>)}\n                            </div>\n                            {bookFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <BookFacet add={sendCandidate}/>\n                                </div>) : (<div/>)}\n\n                            <div className=\"hcFacetSubDivision\" id=\"shipmasterFacetsTitle\" onClick={() => {\n                                setManuscriptFacet(!manuscriptFacet);\n                            }}>\n                                {manuscriptFacet ? (<span className=\"hcFacetGroup\">&#9660; manuscript type</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; manuscript type</span>)}\n                            </div>\n                            {manuscriptFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <ManuscriptTypeFacet add={sendCandidate} search={searchData} refresh={refresh}/>\n                                </div>) : (<div/>)}\n\n                            <div className=\"hcFacetSubDivision\" onClick={() => {\n                                setAuthorFacet(!authorFacet);\n                            }}>\n                                {authorFacet ? (<span className=\"hcFacetGroup\">&#9660; author / text / types</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; author / text / types</span>)}\n                            </div>\n                            {authorFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <AuthorFacet parentCallback={sendCandidate} search={searchData} refresh={refresh}/>\n                                </div>) : (<div/>)}\n\n                            <div className=\"hcFacetSubDivision\" onClick={() => {\n                                setScriptFacet(!scriptFacet);\n                            }}>\n                                {scriptFacet ? (<span className=\"hcFacetGroup\">&#9660; script</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; script</span>)}\n                            </div>\n                            {scriptFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <ScriptFacet add={sendCandidate} search={searchData} refresh={refresh}/>\n                                </div>) : (<div/>)}\n\n                            <div className=\"hcFacetSubDivision\" onClick={() => {\n                                setAnnotationFacet(!annotationFacet)\n                            }}>\n                                {annotationFacet ? (<span className=\"hcFacetGroup\">&#9660; annotations</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; annotations</span>)}\n                            </div>\n                            {annotationFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <AnnotationsFacet add={sendCandidate} search={searchData} refresh={refresh}/>\n                                </div>) : (<div/>)}\n\n                            <div className=\"hcFacetSubDivision\" onClick={() => {\n                                setDigitizedfacet(!digitizedFacet)\n                            }}>\n                                {digitizedFacet ? (<span className=\"hcFacetGroup\">&#9660; digitized</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; digitized</span>)}\n                            </div>\n                            {digitizedFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <DigitizedFacet add={sendCandidate} search={searchData} refresh={refresh}/>\n                                </div>) : (<div/>)}\n\n                            <div className=\"hcFacetSubDivision\" onClick={() => {\n                                setLargerfacet(!largerFacet);\n                            }}>\n                                {largerFacet ? (\n                                    <span className=\"hcFacetGroup\">&#9660; part larger collection</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; part larger collection</span>)}\n                            </div>\n                            {largerFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <LargerCollectionFacet add={sendCandidate} search={searchData} refresh={refresh}/>\n                                </div>) : (<div/>)}\n\n                            <div className=\"hcFacetSubDivision\" onClick={() => {\n                                setExcludeFacet(!excludeFacet)\n                            }}>\n                                {excludeFacet ? (<span className=\"hcFacetGroup\">&#9660; exclude full</span>) : (\n                                    <span className=\"hcFacetGroup\">&#9658; exclude full</span>)}\n                            </div>\n                            {excludeFacet ? (\n                                <div className=\"hcLayoutFacetsToggle\" id=\"hcLayoutFacetsToggle\">\n                                    <ExcludeFullFacet add={sendCandidate} search={searchData} refresh={refresh}/>\n                                </div>) : (<div/>)}\n                        </div>\n\n                        <div className=\"hcLayoutResults\">\n                            <div className=\"hcResultsHeader hcMarginBottom1\">\n                                <div className=\"hcNumberFound\">Manuscripts found: {result.amount} -\n                                    Page {searchData.page} of {result.pages}</div>\n                                <div><select value={searchData.page_length} className=\"hcAmountOfPages\"\n                                             onChange={(e) => setPageLength(e.target.value)}>\n                                    <option value={20}>20 manuscripts per page</option>\n                                    <option value={50}>50 manuscripts per page</option>\n                                    <option value={100}>100 manuscripts per page</option>\n                                    <option value={500}>All manuscripts</option>\n                                </select></div>\n                            </div>\n                            <div className=\"hcMarginBottom2\">\n                                <div className=\"hcSmallTxt hcTxtColorGreyMid\">Selected facets:\n                                    {searchData.searchvalues !== \"none\" && result.amount > 0 && <span\n                                        className=\"hcFacetReset hcClickable\" onClick={() => {\n                                        openWindow(SERVICE_SERVER + \"download/\" + Base64.toBase64(JSON.stringify(searchData)))\n                                    }}>&nbsp;- Download results&nbsp;</span>}\n                                    <span\n                                        className=\"hcFacetReset hcClickable\" onClick={resetFacets}>Reset facets</span>\n                                </div>\n                                {searchData.searchvalues === \"none\" ? (\n                                    <span className=\"hcSelectedFacet\"><span\n                                        className=\"hcSelectedFacetType\">None</span></span>\n                                ) : (\n                                    facets.map((item: ISearchValues) => {\n                                        return (\n                                            <span className=\"hcSelectedFacet\"><span\n                                                className=\"hcSelectedFacetType\">{item.name}: </span>\n                                                {item.values.map(function (skipper, i) {\n                                                    return (<div className=\"hcFacetValues\" key={i}\n                                                                 onClick={() => removeFacet(item.name, skipper)}>{skipper} {cross} </div>)\n                                                })}\n                                    </span>\n                                        )\n                                    })\n                                )}\n                            </div>\n                            {loading ? (<div>Loading...</div>) : (\n                                <div>\n                                    <IsiMap result={result}/>\n                                    <ManuscriptList result={result}/>\n                                    <div className=\"hcPagination\">\n                                        {searchData.page > 1 ? (<div className=\"hcClickable\" onClick={() => {\n                                            prevPage()\n                                        }}>&#8592; Previous</div>) : (<div/>)}\n                                        {searchData.page < result.pages ? (<div className=\"hcClickable\" onClick={() => {\n                                            nextPage()\n                                        }}>Next &#8594;</div>) : (<div/>)}\n                                    </div>\n                                </div>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <Footer/>\n        </div>\n    )\n}","import React, {useState} from \"react\";\nimport {IManuscript} from \"../misc/interfaces\";\nimport {SERVICE_SERVER, HOME} from \"../misc/config\";\n\n\nfunction ManuscriptDetails(props: { manuscript: IManuscript }) {\n    const layout_items = props.manuscript.layout;\n    const content = props.manuscript.content;\n    const img: string = SERVICE_SERVER + \"img/detail/\" + props.manuscript.image;\n    const additional_content = props.manuscript.additional_content;\n    const larger_unit = props.manuscript.larger_unit;\n    const related_manuscripts = props.manuscript.related_manuscripts;\n    const bibliography = props.manuscript.bibliography;\n    const digitized = props.manuscript.digitized_at;\n\n    let folText = \"fols.\";\n    if (props.manuscript.no_of_folia === \"1\") {\n        folText = \"fol.\";\n    }\n\n    let source_of_date = \"\";\n    if (props.manuscript.source_dating !== \"\") {\n        source_of_date = \"(\" + props.manuscript.source_dating + \")\";\n    }\n\n    let pgType = \"Page\";\n    if (props.manuscript.page_number.indexOf('r') !== -1 || props.manuscript.page_number.indexOf('v') !== -1) {\n        pgType = \"Folio\";\n    }\n\n\n    function openWindow(ref: string) {\n        let a = document.createElement('a');\n        a.target = '_blank';\n        a.href = ref;\n        a.click();\n    }\n\n\n    return (\n        <div className=\"hcManuscriptBasicInfo\">\n            <div className=\"backLine\" onClick={() => {\n                window.history.back()\n            }}>Back to results\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabelHeader\">\n                        {props.manuscript.shelfmark}\n                        <div className=\"hcSteinova\">{props.manuscript.steinova}</div>\n                    </div>\n                    <div className=\"urlLine\">{HOME}#detail/{props.manuscript.id}</div>\n                </div>\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptValueSmall\">\n                        Created by Evina Steinov on 7 September 2020<br/>\n                        Last modified by Evina Steinov on 7 September 2020\n                    </div>\n                    <div className=\"hcManuscriptValueOtherIDs\">\n                        {props.manuscript.anspach !== \"\" ? (<div>Anspach {props.manuscript.anspach}</div>) : (<div/>)}\n                        {props.manuscript.bischoff !== \"\" ? (<div>Bischoff {props.manuscript.bischoff}</div>) : (\n                            <div/>)}\n                        {props.manuscript.cla !== \"\" ? (<div>CLA {props.manuscript.cla}</div>) : (<div/>)}\n                    </div>\n                </div>\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Date of origin\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {props.manuscript.bischoff_cla_date} {source_of_date}\n                    </div>\n                </div>\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Place of origin\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {props.manuscript.place_absolute}\n                    </div>\n                </div>\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Provenance\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {props.manuscript.provenance}\n                    </div>\n\n                </div>\n                <div className=\"hcManuscriptImg\"><img className=\"thumb\" src={img}/>\n                    {props.manuscript.page_number !== \"\" &&\n                    <div className=\"hcPageNumber\">{pgType} {props.manuscript.page_number}</div>}\n                </div>\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Folia\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {props.manuscript.no_of_folia} {folText}\n                    </div>\n                </div>\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Layout\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {layout_items}\n                    </div>\n                </div>\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Script\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {props.manuscript.script}\n                    </div>\n                </div>\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Transmission format\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {props.manuscript.designed_as}\n                    </div>\n                </div>\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Physical condition\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {props.manuscript.physical_state_scaled}\n                        {props.manuscript.physical_state !== \"\" ? (<div>{props.manuscript.physical_state}</div>) : (\n                            <div/>)}\n                    </div>\n                </div>\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Content\n                    </div>\n\n                    {content.map(item => {\n                        return <div className=\"hcManuscriptRow\">\n                            <div className=\"hcManuscriptValue underlineListItem\">\n                                <div>{item.material_type === \"full\" ? (\n                                    <strong>canonical Etymologiae</strong>) : (\n                                    <strong>{item.material_type}</strong>)}, <strong>books: {item.books_included}</strong>\n                                </div>\n                                {item.details.map(values => {\n                                    return <div className=\"line\"><i>Etym. </i> {values.details}&nbsp;&nbsp;&nbsp;\n                                        <i>({values.locations})</i></div>\n                                })}\n                            </div>\n                        </div>\n                    })}\n                </div>\n\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Type\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {props.manuscript.type}\n                    </div>\n                </div>\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Additional content\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {additional_content.map(line => {\n                            return <div className=\"line\">{line}</div>\n                        })}\n                    </div>\n                </div>\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Larger unit\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {larger_unit.map(line => {\n                            return <div className=\"line\">{line}</div>\n                        })}\n                    </div>\n                </div>\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Related manuscripts\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {related_manuscripts.map((item, index) => {\n                                return (<div>\n                                    <div className=\"cursLine\">{item.reason}</div>\n                                    {item.intern.map((item_in, index) => {\n                                        const url = \"/#detail/\" + item_in.id;\n                                        return (<div key={index} className=\"linkLine\" onClick={() => {\n                                            window.scroll(0, 0);\n                                            window.location.href = url;\n                                        }}>{item_in.shelfmark}</div>)\n                                    })}\n                                    {item.extern.map((index_ex, index) => {\n                                        return (<div key={index} className=\"line\">{index_ex.item}</div>)\n                                    })}\n                                </div>)\n                            }\n                        )}\n                    </div>\n                </div>\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Innovative features\n                    </div>\n                </div>\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptValue underlineListItem\">\n                        <div><strong>Annotations</strong></div>\n                        {props.manuscript.annotations}\n                    </div>\n                </div>\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptValue underlineListItem\">\n                        <div><strong>Diagrams</strong></div>\n                        {props.manuscript.diagrams}\n                    </div>\n                </div>\n\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptValue underlineListItem\">\n                        <div><strong>Innovations</strong></div>\n                        {props.manuscript.innovations}\n                    </div>\n                </div>\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Additional observations\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {props.manuscript.additional_observations}\n                    </div>\n                </div>\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Bibliography\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {bibliography.map(line => {\n                            return <div className=\"line\">{line}</div>\n                        })}\n                    </div>\n                </div>\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Digitized at\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {digitized.map(line => {\n                            return <div className=\"linkLine\" onClick={() => {\n                                openWindow(line.item);\n                            }}>{line.item}</div>\n                        })}\n                    </div>\n                </div>\n            </div>\n            <div className=\"hcManuscriptTable\">\n                <div className=\"hcManuscriptRow\">\n                    <div className=\"hcManuscriptLabel\">\n                        Additional information online\n                    </div>\n                    <div className=\"hcManuscriptValue\">\n                        {props.manuscript.url_other === \"-\" ?\n                            (\n                                <div>{props.manuscript.url_other}</div>\n                            ) : (\n                                <div className=\"linkLine\" onClick={() => {\n                                    openWindow(props.manuscript.url_other);\n                                }}>{props.manuscript.url_other}</div>\n                            )}\n                    </div>\n                </div>\n            </div>\n            <div className=\"backLine\" onClick={() => {\n                window.history.back()\n            }}>Back to results\n            </div>\n        </div>\n    )\n}\n\nexport default ManuscriptDetails;\n","import React from \"react\";\nimport Header from \"../page/header\";\nimport Footer from \"../page/footer\";\nimport ManuscriptDetails from \"./manuscriptDetails\";\nimport {useState} from \"react\";\nimport {IManuscript} from \"../misc/interfaces\";\nimport {SERVICE_SERVER} from \"../misc/config\";\n\nfunction Manuscript(props: {manuscriptID: string}) {\n    const [loading, setLoading] = useState(true);\n    const [result, setResult] = useState<IManuscript>({} as IManuscript);\n\n    async function fetchData() {\n        const url = SERVICE_SERVER + \"detail/\" + props.manuscriptID;\n        console.log(url);\n        const response = await fetch(url);\n        const json: IManuscript = await response.json();\n        setResult(json);\n        setLoading(false);\n    }\n    if (loading) {\n        fetchData();\n    }\n\n    return (\n        <div>\n            <Header/>\n            <div className=\"hcContentContainer hcMarginBottom5\">\n                <div className=\"hcBasicSideMargin hcMarginTop1 hcMarginBottom5\">\n\n                    {/*<div className=\"hcLayoutFacet-Result hcBasicSideMargin hcMarginBottom15\">*/}\n                        {/*<div className=\"hcLayoutFacets\">*/}\n                        {/*                <div>*/}\n                        {/*                    <img id=\"hcLeftScan\" src=\"\" alt=\"\"/>*/}\n                        {/*                    <span className=\"hcScanName\"></span>*/}\n                        {/*                </div>*/}\n                        {/*</div>*/}\n                        <div className=\"hcLayoutResults\">\n                            <div className=\"hcResultsHeader hcMarginBottom1\">\n                                {loading ? (\n                                    <div>Loading...</div>\n                                ) : (\n                                    <ManuscriptDetails manuscript={result}/>\n                                )}\n\n                            </div>\n                        </div>\n                    {/*</div>*/}\n                </div>\n            </div>\n            <Footer/>\n        </div>\n    )\n}\n\nexport default Manuscript;\n","import { StateValue, EventObject, Interpreter, State } from 'xstate';\nimport React, { useEffect, useState, ReactElement } from 'react';\nimport { StateListener } from 'xstate/lib/interpreter';\n\n\ninterface StateDefinition<TContext, Events extends EventObject> {\n  [K: string]: React.FunctionComponent<{state: State<TContext, Events>}> | StateDefinition<TContext, Events>\n}\n\ntype AsStateDefinition<T, TContext, TEvents extends EventObject> = T extends {type: \"parallel\", states: infer Sub} \n  ? ({\n    [K in Exclude<keyof Sub, \"History\">]: AsStateDefinition<Sub[K], TContext, TEvents>\n  } & {\":merge\": React.FunctionComponent<{state: State<TContext, TEvents>, input: {[K in keyof Sub]: React.FunctionComponent<{state: State<TContext, TEvents>}>}}>})\n  : T extends {states: infer Sub}\n    ? React.FunctionComponent<{state: State<TContext, TEvents>}> | {\n      [K in Exclude<keyof Sub, \"History\">]: AsStateDefinition<Sub[K], TContext, TEvents>\n    } | ({\"\": React.FunctionComponent<{state: State<TContext, TEvents>}>} & {\n      [K in Exclude<keyof Sub, \"History\">]?: AsStateDefinition<Sub[K], TContext, TEvents>\n    })\n    : React.FunctionComponent<{state: State<TContext, TEvents>}>\n\nexport function StateMachineComponent<TContext, Schema, Events extends EventObject>(interpreter: Interpreter<TContext, Schema, Events>, screens: AsStateDefinition<Schema, TContext, Events>): ReactElement {\n\n\n  return React.createElement(function ThisIsAFunctionComponentNoteTheCapitalFirstLetterYo() {\n    const [curState, setState] = useState(interpreter.state);\n    useEffect(() => {\n      const cb: StateListener<TContext, Events> = state => {\n        return setState(state);\n      }\n      interpreter.onTransition(cb);\n      return () => {\n        interpreter.off(cb)\n      }\n    }, [interpreter, screens])\n    const view = pickReactComponents(curState.value, screens as any)\n    if (view !== undefined) {\n      const props: any = {state: curState}\n      return React.createElement(view, props)\n    } else {\n      return <div>No GUI defined for {JSON.stringify(curState.value)}</div>\n    }\n  })\n}\n\nfunction isFunctionComponent<TContext, Events extends EventObject>(val: StateDefinition<TContext, Events> | React.FunctionComponent<{state: State<TContext, Events>}>): val is React.FunctionComponent<{state: State<TContext, Events>}> {\n  return typeof val === \"function\"\n}\n\nfunction getFirstReactComponent<TContext, Events extends EventObject>(val: StateDefinition<TContext, Events>): React.FunctionComponent<{state: State<TContext, Events>}> | undefined {\n  for (const key in val) {\n    const item = val[key]\n    if (isFunctionComponent(item)) {\n      return item\n    } else {\n      return getFirstReactComponent(item)\n    }\n  }\n  return undefined\n}\n\nfunction pickReactComponents<TContext, Events extends EventObject>(state: StateValue, config: StateDefinition<TContext, Events>): React.FunctionComponent<{state: State<TContext, Events>}> | undefined {\n  if (typeof state === \"string\") {\n    const configVal = config[state]\n    if (configVal === undefined) {\n      return (config[state] === undefined ? config[\"\"] : config[state]) as React.FunctionComponent | undefined\n    }\n    else if (isFunctionComponent(configVal)) {\n      return configVal\n    } else {\n      console.error(\"Non-terminal state config for an atomic state!\")\n      return getFirstReactComponent(configVal)\n    }\n  } else {\n    const result: {[key: string]: React.FunctionComponent<{state: State<TContext, Events>}>} = {}\n    let singleResult;\n    let count = 0\n    for (const key in state) {\n      const configVal = config[key]=== undefined ? config[\"\"] : config[key]\n      if (isFunctionComponent(configVal)) {\n        count++\n        result[key] = configVal\n        singleResult = configVal\n      } else if (typeof configVal === \"object\") {\n        const subResult = pickReactComponents(state[key], configVal)\n        if (subResult !== undefined) {\n          count++\n          result[key] = subResult\n          singleResult = subResult\n        }\n      }\n    }\n    if (count === 1) {\n      return singleResult\n    } else {\n      const merger = config[\":merge\"] as any\n      return (props: any) => merger({state: props.state, input: result})\n    }\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {assign, Machine} from \"xstate\";\n\nexport const IsiMachine = Machine<{\n    search_string: string,\n    manuscript_id: string\n}, {\n    states: {\n        fourOhFour: {},\n        detail: {},\n        search: {},\n    }\n}>(\n    {\n        id: 'fetch',\n        initial: 'search',\n        context: {\n            search_string: \"none\",\n            manuscript_id: \"\",\n        },\n        on: {\n            detail: {\n                actions: assign({\n                    manuscript_id: (context, event) => event.manuscript_id\n                }),\n                target: \"detail\"\n            },\n            search: {\n                actions: assign({\n                    search_string: (context, event) => event.search_string\n                }),\n                target: \"search\"\n            },\n            \"*\": \"fourOhFour\"\n        },\n        states: {\n            fourOhFour: {},\n            detail: {\n                on: {\n                    search: \"search\",\n                    detail: \"detail\"\n                }\n            },\n            search: {\n                on: {\n                    item: \"detail\"\n                }\n            }\n        }\n    }\n);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Search from \"./components/search\";\nimport Manuscript from \"./components/manuscript\";\nimport {StateMachineComponent} from \"./renderMachine\";\nimport * as serviceWorker from './serviceWorker';\nimport {interpret} from \"xstate\";\nimport './assets/css/isidore.css';\nimport {IsiMachine} from \"./machine/model\";\n\n\nconst interpreter = interpret(IsiMachine);\ninterpreter.start();\n\ngotoUrl();\n\nfunction gotoUrl() {\n    if (window.location.hash.substr(1).indexOf(\"detail/\") === 0) {\n        const id = window.location.hash.substr(window.location.hash.indexOf(\"/\") + 1);\n        interpreter.send(\"fourOhFour\"); //Filthy solution for forcing props reload!!!\n        interpreter.send(\"detail\", {manuscript_id: id});\n    } else {\n        if (window.location.hash.substr(1).indexOf(\"search\") === 0) {\n            if (window.location.hash.substr(1).length > 6 && window.location.hash.substr(1).indexOf(\"search\") !== -1) {\n                const id = window.location.hash.substr(window.location.hash.indexOf(\"/\") + 1);\n                interpreter.send(\"search\", {search_string: id});\n            } else {\n                const id = \"none\";\n                interpreter.send(\"search\", {search_string: id});\n            }\n        } else {\n            const id = \"none\";\n            interpreter.send(\"search\", {search_string: id});\n        }\n    }\n}\n\nwindow.onhashchange = gotoUrl;\n\n\n\n\nReactDOM.render(\n    <div>\n        {StateMachineComponent(interpreter, {\n            \"detail\": ({state}) => <Manuscript manuscriptID={(state.context || {}).manuscript_id}/>,\n            \"search\": ({state}) => <Search  search_string={(state.context || {}).search_string}/>,\n            \"fourOhFour\": ({state}) => <div>404</div>,\n            \"\": ({state}) => <div>The GUI for {state.value} is not yet defined</div>\n        })}</div>\n    , document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}